<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Statistical Process Control | industRial data science</title>
  <meta name="description" content="Statistical Process Control | industRial data science" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Statistical Process Control | industRial data science" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/img/cover3.png" />
  
  <meta name="github-repo" content="J-Ramalho/industRialds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Statistical Process Control | industRial data science" />
  
  
  <meta name="twitter:image" content="/img/cover3.png" />

<meta name="author" content="João Ramalho" />


<meta name="date" content="2021-05-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="DOE.html"/>
<link rel="next" href="contents.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-122820355-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-122820355-1');
</script>


<script type="text/javascript">
mattcrump=1;
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/industRialds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">industRial data science</a></li>

<li class="divider"></li>
<li class="part"><span><b>I INTRODUCTION</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html"><i class="fa fa-check"></i>Toolbox</a>
<ul>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#r-and-rstudio"><i class="fa fa-check"></i>R and RStudio</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#packages"><i class="fa fa-check"></i>Packages</a>
<ul>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#highlights"><i class="fa fa-check"></i>Highlights</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#datasets"><i class="fa fa-check"></i>Datasets</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#functions"><i class="fa fa-check"></i>Functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tutorials.html"><a href="tutorials.html"><i class="fa fa-check"></i>Tutorials</a>
<ul>
<li class="chapter" data-level="" data-path="tutorials.html"><a href="tutorials.html#on-the-web"><i class="fa fa-check"></i>On the web</a></li>
<li class="chapter" data-level="" data-path="tutorials.html"><a href="tutorials.html#locally"><i class="fa fa-check"></i>Locally</a></li>
</ul></li>
<li class="part"><span><b>II CASE STUDIES</b></span></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html"><i class="fa fa-check"></i>Design for Six Sigma</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#pareto"><i class="fa fa-check"></i>Pareto</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#ishikawa"><i class="fa fa-check"></i>Ishikawa</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#correlation-matrix"><i class="fa fa-check"></i>Correlation matrix</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#clustering"><i class="fa fa-check"></i>Clustering</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html"><i class="fa fa-check"></i>Measurement System Analysis</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#trueness"><i class="fa fa-check"></i>Trueness</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#bias-plot"><i class="fa fa-check"></i>Bias plot</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#bias-report"><i class="fa fa-check"></i>Bias report</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#precision"><i class="fa fa-check"></i>Precision</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#base-anova"><i class="fa fa-check"></i>Base Anova</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#gage-rr"><i class="fa fa-check"></i>gage r&amp;R</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#acceptance-on-variance"><i class="fa fa-check"></i>Acceptance on Variance</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#acceptance-on-sd"><i class="fa fa-check"></i>Acceptance on SD</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#interaction-plots"><i class="fa fa-check"></i>Interaction plots</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#negative-variations"><i class="fa fa-check"></i>Negative Variations</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#beyond-two-factors"><i class="fa fa-check"></i>Beyond two factors</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#conclusions"><i class="fa fa-check"></i>Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#uncertainty"><i class="fa fa-check"></i>Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html"><i class="fa fa-check"></i>Design of Experiments</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#simple-experiments"><i class="fa fa-check"></i>Simple experiments</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#means-comparison"><i class="fa fa-check"></i>Means comparison</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#variances-comparison"><i class="fa fa-check"></i>Variances comparison</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#regression-and-anova"><i class="fa fa-check"></i>Regression and anova</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#linear-regression"><i class="fa fa-check"></i>Linear regression</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#residuals-model-check"><i class="fa fa-check"></i>Residuals &amp; model check</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#multiple-means-comparison"><i class="fa fa-check"></i>Multiple means comparison</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#pairwise-comparisons"><i class="fa fa-check"></i>Pairwise comparisons</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#prediction"><i class="fa fa-check"></i>Prediction</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interactions"><i class="fa fa-check"></i>Interactions</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#lm-with-interactions"><i class="fa fa-check"></i>lm with interactions</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#outliers-and-model-check"><i class="fa fa-check"></i>Outliers and model check</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interaction-plot"><i class="fa fa-check"></i>Interaction plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#effects-significance"><i class="fa fa-check"></i>Effects significance</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#removing-interaction"><i class="fa fa-check"></i>Removing interaction</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#covariance"><i class="fa fa-check"></i>Covariance</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#correlation-strenght"><i class="fa fa-check"></i>Correlation strenght</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#ancova"><i class="fa fa-check"></i>Ancova</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#comparison-with-anova"><i class="fa fa-check"></i>Comparison with anova</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#general-factorial-designs"><i class="fa fa-check"></i>General factorial designs</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#design-generation"><i class="fa fa-check"></i>Design generation</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#main-effects-plots"><i class="fa fa-check"></i>Main effects plots</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interactions-plots"><i class="fa fa-check"></i>Interactions plots</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova-with-3rd-level-interactions"><i class="fa fa-check"></i>Anova with 3rd level interactions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#two-level-designs"><i class="fa fa-check"></i>Two level designs</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coding-factors"><i class="fa fa-check"></i>Coding factors</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coding-natural-values"><i class="fa fa-check"></i>Coding natural values</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#single-replicate-designs"><i class="fa fa-check"></i>Single replicate designs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html"><i class="fa fa-check"></i>Statistical Process Control</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#xbar-r-charts"><i class="fa fa-check"></i>xbar-R charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#mean-chart"><i class="fa fa-check"></i>Mean chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#range-chart"><i class="fa fa-check"></i>Range chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#control-limits"><i class="fa fa-check"></i>Control limits</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#cpk-charts"><i class="fa fa-check"></i>Cpk charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#off-spec"><i class="fa fa-check"></i>Off spec</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#capability-chart"><i class="fa fa-check"></i>Capability chart</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#i-mr-charts"><i class="fa fa-check"></i>I-MR charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#process-stats"><i class="fa fa-check"></i>Process stats</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#individual-chart"><i class="fa fa-check"></i>Individual chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#moving-range-chart"><i class="fa fa-check"></i>Moving range chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#capability-chart-ii"><i class="fa fa-check"></i>Capability chart II</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III APPENDIX</b></span></li>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html"><i class="fa fa-check"></i>Index</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i>Glossary</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#statistics"><i class="fa fa-check"></i>Statistics</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#notation-conventions"><i class="fa fa-check"></i>Notation conventions</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#descriptive-statistics"><i class="fa fa-check"></i>Descriptive statistics</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#probability"><i class="fa fa-check"></i>Probability</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#statistical-inference"><i class="fa fa-check"></i>Statistical Inference</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#dfss"><i class="fa fa-check"></i>DFSS</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#voice-of-customer"><i class="fa fa-check"></i>Voice of Customer</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#voice-of-process"><i class="fa fa-check"></i>Voice of Process</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#msa"><i class="fa fa-check"></i>MSA</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#doe"><i class="fa fa-check"></i>DOE</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#spc"><i class="fa fa-check"></i>SPC</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="imprint.html"><a href="imprint.html"><i class="fa fa-check"></i>Imprint</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">indust<b style='color:#38598CFF'>R</b>ial data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="SPC" class="section level1">
<h1>Statistical Process Control</h1>
<p>Keeping the variability of an industrial process under control is one of the most important objectives in manufacturing. Based on expert knowledge or on detailed functional analysis the product and process parameters that are critical to quality are identified and selected for close follow-up. The most common and effective way for such follow-up is the Statistical Process Control which is done by using control charts.</p>
<p><strong>The syringe injection molding process</strong></p>
<div class="marginnote">
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-2"></span>
<img src="img/syringe_molding_bw.jpg" alt="A clean room for syringe injection molding with fully automatised handling" width="100%" />
<p class="caption">
Figure 1: A clean room for syringe injection molding with fully automatised handling
</p>
</div>
</div>
<div id="xbar-r-charts" class="section level2">
<h2>xbar-R charts</h2>
<p>There are many types of control charts and in this case study we’re demonstrating the xbar and R charts. These two charts are often used together and are suited to the control the mean and the variability of a continuous variable.</p>
<p>Bamako Lightening is a company that manufactures lamps. The weight of each lamp is critical to the quality of the product. The Production Operator monitors the production process using xbar and R-charts. Samples are taken of six lamps every hour and their means and ranges plotted on control charts. Data is available representing samples taken a period of 25 hours of production.</p>
<p>Looking at the first five lines to confirm and assess the quality of our data for further processing.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="SPC.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(syringe_diameter) <span class="sc">%&gt;%</span></span>
<span id="cb229-2"><a href="SPC.html#cb229-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Hour</th>
<th align="right">Sample1</th>
<th align="right">Sample2</th>
<th align="right">Sample3</th>
<th align="right">Sample4</th>
<th align="right">Sample5</th>
<th align="right">Sample6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Hour1</td>
<td align="right">5.331433</td>
<td align="right">5.339867</td>
<td align="right">5.324400</td>
<td align="right">5.336267</td>
<td align="right">5.322833</td>
<td align="right">5.318133</td>
</tr>
<tr class="even">
<td align="left">Hour2</td>
<td align="right">5.324033</td>
<td align="right">5.321433</td>
<td align="right">5.314200</td>
<td align="right">5.323733</td>
<td align="right">5.341967</td>
<td align="right">5.339233</td>
</tr>
<tr class="odd">
<td align="left">Hour3</td>
<td align="right">5.326267</td>
<td align="right">5.340433</td>
<td align="right">5.313567</td>
<td align="right">5.356533</td>
<td align="right">5.338700</td>
<td align="right">5.356967</td>
</tr>
<tr class="even">
<td align="left">Hour4</td>
<td align="right">5.355267</td>
<td align="right">5.360000</td>
<td align="right">5.317133</td>
<td align="right">5.331933</td>
<td align="right">5.344600</td>
<td align="right">5.347400</td>
</tr>
<tr class="odd">
<td align="left">Hour5</td>
<td align="right">5.337867</td>
<td align="right">5.326367</td>
<td align="right">5.314967</td>
<td align="right">5.313433</td>
<td align="right">5.337467</td>
<td align="right">5.340700</td>
</tr>
<tr class="even">
<td align="left">Hour6</td>
<td align="right">5.343167</td>
<td align="right">5.335233</td>
<td align="right">5.323833</td>
<td align="right">5.346267</td>
<td align="right">5.333967</td>
<td align="right">5.320533</td>
</tr>
</tbody>
</table>
<p>We see that in this table each line corresponds to a sampling hour and each column corresponds to a sample number.</p>
<p>We’re now going to pass this data to the control chart plotting function qcc(). As this function takes a dataset of observations so we’re removing the Hour column with the select function from tidyverse:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="SPC.html#cb230-1" aria-hidden="true" tabindex="-1"></a>syringe_clean <span class="ot">&lt;-</span> syringe_diameter <span class="sc">%&gt;%</span> </span>
<span id="cb230-2"><a href="SPC.html#cb230-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Hour) <span class="sc">%&gt;%</span></span>
<span id="cb230-3"><a href="SPC.html#cb230-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;S&quot;</span>), round, <span class="dv">2</span>))</span></code></pre></div>
<p>Now we load the qcc package that has the required quality control tools:</p>
<p><b>Calibration run</b></p>
<p>In order to establish a control chart it is recommended to run a “calibration run.” The calibration run is used to calculate the control limits before entering “regular production.” Using the first 10 samples we call the qcc() function to make the required calculations.</p>
<div id="mean-chart" class="section level3">
<h3>Mean chart</h3>
<p><span id="xbarchart"></span></p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="SPC.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qcc)</span></code></pre></div>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="SPC.html#cb232-1" aria-hidden="true" tabindex="-1"></a>syringe_xbar <span class="ot">&lt;-</span> <span class="fu">qcc</span>(</span>
<span id="cb232-2"><a href="SPC.html#cb232-2" aria-hidden="true" tabindex="-1"></a>  syringe_clean[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ], </span>
<span id="cb232-3"><a href="SPC.html#cb232-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;xbar&quot;</span>, </span>
<span id="cb232-4"><a href="SPC.html#cb232-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Lamp weight </span><span class="sc">\n</span><span class="st"> xbar chart&quot;</span>, </span>
<span id="cb232-5"><a href="SPC.html#cb232-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;Sample group&quot;</span>,</span>
<span id="cb232-6"><a href="SPC.html#cb232-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot =</span> <span class="cn">FALSE</span></span>
<span id="cb232-7"><a href="SPC.html#cb232-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Before we step ahead and simply plot the SPC chart and interpret the results lets look a bit in detail in the calculations done to established the Control Chart. To do this we’re going to go in the details of what we’ve obtained in the previous chunk.</p>
<p>A first step is to read the begining of the qcc() help file typing ?qcc in the console. It says "Create an object of class ‘qcc’ to perform statistical process control’ (in R technical terms function is a helper that generates an S3 R object).</p>
<p>The key point here is that this means we can inspect the calculations separately from the plot itself. We can start by confirming the class and the type of the qcc object:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="SPC.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(syringe_xbar)</span></code></pre></div>
<pre><code>[1] &quot;qcc&quot;</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="SPC.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(syringe_xbar)</span></code></pre></div>
<pre><code>[1] &quot;list&quot;</code></pre>
<p>It is confirmed it is an object of class qcc with the R type list. Looking into the structure of the list:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="SPC.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(syringe_xbar)</span></code></pre></div>
<pre><code>List of 11
 $ call      : language qcc(data = syringe_clean[1:10, ], type = &quot;xbar&quot;, plot = FALSE, title = &quot;Lamp weight \n xbar chart&quot;,      xlab = &quot;Sample group&quot;)
 $ type      : chr &quot;xbar&quot;
 $ data.name : chr &quot;syringe_clean[1:10, ]&quot;
 $ data      : num [1:10, 1:6] 5.33 5.32 5.33 5.36 5.34 5.34 5.3 5.32 5.34 5.36 ...
  ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. ..$ Group  : chr [1:10] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
  .. ..$ Samples: chr [1:6] &quot;Sample1&quot; &quot;Sample2&quot; &quot;Sample3&quot; &quot;Sample4&quot; ...
 $ statistics: Named num [1:10] 5.33 5.33 5.34 5.34 5.33 ...
  ..- attr(*, &quot;names&quot;)= chr [1:10] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
 $ sizes     : int [1:10] 6 6 6 6 6 6 6 6 6 6
 $ center    : num 5.33
 $ std.dev   : num 0.0142
 $ nsigmas   : num 3
 $ limits    : num [1, 1:2] 5.32 5.35
  ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. ..$ : chr &quot;&quot;
  .. ..$ : chr [1:2] &quot;LCL&quot; &quot;UCL&quot;
 $ violations:List of 2
  ..$ beyond.limits : int(0) 
  ..$ violating.runs: num(0) 
 - attr(*, &quot;class&quot;)= chr &quot;qcc&quot;</code></pre>
<p>The output is not easy to read but we present it here just to show that inside the list there are several tables with the statistical analysis required for our plot. If we want like to see for instance the standard deviation we can extract it separately:</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="SPC.html#cb239-1" aria-hidden="true" tabindex="-1"></a>syringe_xbar<span class="sc">$</span>std.dev</span></code></pre></div>
<pre><code>[1] 0.01420679</code></pre>
<p>And if we want like to see a summary of all the data stored in the object we could apply the summary method:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="SPC.html#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(syringe_xbar)</span></code></pre></div>
<pre><code>
Call:
qcc(data = syringe_clean[1:10, ], type = &quot;xbar&quot;, plot = FALSE,     title = &quot;Lamp weight \n xbar chart&quot;, xlab = &quot;Sample group&quot;)

xbar chart for syringe_clean[1:10, ] 

Summary of group statistics:
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
5.325000 5.328333 5.333333 5.333333 5.337500 5.343333 

Group sample size:  6
Number of groups:  10
Center of group statistics:  5.333333
Standard deviation:  0.01420679 

Control limits:
      LCL      UCL
 5.315934 5.350733</code></pre>
<p>We are now ready to finally we can see this all together in a plot:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="SPC.html#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(syringe_xbar)</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-11-1.png" width="80%" /></p>
</div>
<div id="range-chart" class="section level3">
<h3>Range chart</h3>
<p>Using the same 10 first samples we also obtain the corresponding R chart:</p>
<p><span id="Rchart"></span></p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="SPC.html#cb244-1" aria-hidden="true" tabindex="-1"></a>syringe_R <span class="ot">&lt;-</span> <span class="fu">qcc</span>(</span>
<span id="cb244-2"><a href="SPC.html#cb244-2" aria-hidden="true" tabindex="-1"></a>  syringe_clean[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ], </span>
<span id="cb244-3"><a href="SPC.html#cb244-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;R&quot;</span>, </span>
<span id="cb244-4"><a href="SPC.html#cb244-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Lamp weight </span><span class="sc">\n</span><span class="st"> R chart&quot;</span>,</span>
<span id="cb244-5"><a href="SPC.html#cb244-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;Sample group&quot;</span></span>
<span id="cb244-6"><a href="SPC.html#cb244-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-12-1.png" width="80%" /></p>
<p><b>Regular production</b></p>
<p>Now that the calibration data has been plotted we can consider that the control limits are defined. They can become fixed and reused in new plots for the future production runs. Samples from those future runs can then be assessed against this limits and the control chart rules can be verified (in this example the shewhart rules are used). We now add the remaining data points to our chart by specifying which lines we’re refering too in our dataframe in the ‘newdata’ argument:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="SPC.html#cb245-1" aria-hidden="true" tabindex="-1"></a>syringe_xbar <span class="ot">&lt;-</span> <span class="fu">qcc</span>(</span>
<span id="cb245-2"><a href="SPC.html#cb245-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> syringe_clean[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ],</span>
<span id="cb245-3"><a href="SPC.html#cb245-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> syringe_clean[<span class="dv">11</span><span class="sc">:</span><span class="dv">25</span>,],</span>
<span id="cb245-4"><a href="SPC.html#cb245-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;xbar&quot;</span>, </span>
<span id="cb245-5"><a href="SPC.html#cb245-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Lamp weight </span><span class="sc">\n</span><span class="st"> xbar chart&quot;</span>, </span>
<span id="cb245-6"><a href="SPC.html#cb245-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;Sample group&quot;</span></span>
<span id="cb245-7"><a href="SPC.html#cb245-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-13-1.png" width="80%" /></p>
<p>We can see that the data point corresponding to the average of the measurements of the samplegroup 17 is plotted in red because it is outside of the control limits.</p>
<p>Now we plot the R chart to assess the variability:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="SPC.html#cb246-1" aria-hidden="true" tabindex="-1"></a>syringe_R <span class="ot">&lt;-</span> <span class="fu">qcc</span>(</span>
<span id="cb246-2"><a href="SPC.html#cb246-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> syringe_clean[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ],</span>
<span id="cb246-3"><a href="SPC.html#cb246-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">newdata =</span> syringe_clean[<span class="dv">11</span><span class="sc">:</span><span class="dv">25</span>,], </span>
<span id="cb246-4"><a href="SPC.html#cb246-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;R&quot;</span>, </span>
<span id="cb246-5"><a href="SPC.html#cb246-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Lamp weight </span><span class="sc">\n</span><span class="st"> R chart&quot;</span>,</span>
<span id="cb246-6"><a href="SPC.html#cb246-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;Sample group&quot;</span></span>
<span id="cb246-7"><a href="SPC.html#cb246-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-14-1.png" width="80%" /></p>
<p>In this case all the points are within the previously defined control limits.</p>
<p><b>Warnings and specification limits</b></p>
<p>More tight controls can be put in place by clearly identifying warning limits in a narrower range than the control limits. These measures need to be accompaigned by clear decision criteria and proper training to avoid the typical problem of overeacting and destabilizing the process by introducing unintented special causes of variation.</p>
</div>
<div id="control-limits" class="section level3">
<h3>Control limits</h3>
<p>We add warning limits in the plot with as follows:</p>
<p><span id="limitsxbar"></span></p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="SPC.html#cb247-1" aria-hidden="true" tabindex="-1"></a>warn.limits <span class="ot">&lt;-</span> <span class="fu">limits.xbar</span>(</span>
<span id="cb247-2"><a href="SPC.html#cb247-2" aria-hidden="true" tabindex="-1"></a>  syringe_xbar<span class="sc">$</span>center, </span>
<span id="cb247-3"><a href="SPC.html#cb247-3" aria-hidden="true" tabindex="-1"></a>  syringe_xbar<span class="sc">$</span>std.dev, </span>
<span id="cb247-4"><a href="SPC.html#cb247-4" aria-hidden="true" tabindex="-1"></a>  syringe_xbar<span class="sc">$</span>sizes, </span>
<span id="cb247-5"><a href="SPC.html#cb247-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span></span>
<span id="cb247-6"><a href="SPC.html#cb247-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb247-7"><a href="SPC.html#cb247-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb247-8"><a href="SPC.html#cb247-8" aria-hidden="true" tabindex="-1"></a>  syringe_xbar, </span>
<span id="cb247-9"><a href="SPC.html#cb247-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">restore.par =</span> <span class="cn">FALSE</span>,</span>
<span id="cb247-10"><a href="SPC.html#cb247-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Lamp weight </span><span class="sc">\n</span><span class="st"> xbar chart&quot;</span>,</span>
<span id="cb247-11"><a href="SPC.html#cb247-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;Sample group&quot;</span>)</span>
<span id="cb247-12"><a href="SPC.html#cb247-12" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> warn.limits, <span class="at">lty =</span> <span class="dv">3</span>, <span class="at">col =</span> <span class="st">&quot;chocolate&quot;</span>)</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-15-1.png" width="80%" /></p>
<p>A manufacturing process under control has a variation that is lower than the product specifications and ideally it is centered. Therefore it is usually good practice to follow the control chart rules refering to the process control limits.</p>
<p>In some cases nevertheless there may be desired or interesting to add the specification limits. This can be done as follows, first we establish the specifications:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="SPC.html#cb248-1" aria-hidden="true" tabindex="-1"></a>spec_max <span class="ot">&lt;-</span> <span class="fl">5.6</span></span>
<span id="cb248-2"><a href="SPC.html#cb248-2" aria-hidden="true" tabindex="-1"></a>spec_min <span class="ot">&lt;-</span> <span class="fl">5.3</span></span>
<span id="cb248-3"><a href="SPC.html#cb248-3" aria-hidden="true" tabindex="-1"></a>spec_tgt <span class="ot">&lt;-</span> (spec_max <span class="sc">-</span> spec_min) <span class="sc">/</span> <span class="dv">2</span> <span class="sc">+</span> spec_min</span>
<span id="cb248-4"><a href="SPC.html#cb248-4" aria-hidden="true" tabindex="-1"></a>specs <span class="ot">&lt;-</span> <span class="fu">c</span>(spec_min, spec_tgt, spec_max)</span></code></pre></div>
<p>and replot the control chart with visible specification limits and targets:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="SPC.html#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb249-2"><a href="SPC.html#cb249-2" aria-hidden="true" tabindex="-1"></a>  syringe_xbar,</span>
<span id="cb249-3"><a href="SPC.html#cb249-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">restore.par =</span> <span class="cn">FALSE</span>,</span>
<span id="cb249-4"><a href="SPC.html#cb249-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Lamp weight </span><span class="sc">\n</span><span class="st"> xbar chart&quot;</span>,</span>
<span id="cb249-5"><a href="SPC.html#cb249-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;Sample group&quot;</span>,</span>
<span id="cb249-6"><a href="SPC.html#cb249-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim =</span> <span class="fu">c</span>(specs[<span class="dv">1</span>], specs[<span class="dv">3</span>])</span>
<span id="cb249-7"><a href="SPC.html#cb249-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb249-8"><a href="SPC.html#cb249-8" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> specs, <span class="at">lty =</span> <span class="dv">3</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-17-1.png" width="80%" /></p>
<p>In the previous example we see a situation that happens in practice and that requires action: the data plotted is still within the min max specification limits for this relativelly small number of data points. Furthermore the variation is overall well contained within the process limits. Nevertheless we see it is extremelly off centered when compared with the product specification. A process capability study should help determining the causes for this offcentering and help correcting it.</p>
<p>Adapted from <span class="citation"><a href="#ref-Bass2007" role="doc-biblioref">Bass</a> (<a href="#ref-Bass2007" role="doc-biblioref">2007</a>)</span></p>
<p>In this chapter we’re going to go more in depth in the study of the manufacturing process variability. We’re going to make a comparison between the product specifications and the process variability. We’re looking for opportunities to tigthen the product specifications.
Tightening a product specification without increasing the cost of a manufacturing cost can be a source of competitive advantage.</p>
</div>
</div>
<div id="cpk-charts" class="section level2">
<h2>Cpk charts</h2>
<div id="off-spec" class="section level3">
<h3>Off spec</h3>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="SPC.html#cb250-1" aria-hidden="true" tabindex="-1"></a>syringe_long <span class="ot">&lt;-</span> syringe_diameter <span class="sc">%&gt;%</span></span>
<span id="cb250-2"><a href="SPC.html#cb250-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">&quot;Sample&quot;</span>),</span>
<span id="cb250-3"><a href="SPC.html#cb250-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;sample&quot;</span>,</span>
<span id="cb250-4"><a href="SPC.html#cb250-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>)</span></code></pre></div>
<p><strong>variables</strong></p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="SPC.html#cb251-1" aria-hidden="true" tabindex="-1"></a>syringe_mean <span class="ot">=</span> syringe_long <span class="sc">%&gt;%</span> <span class="fu">pull</span>(value) <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span>
<span id="cb251-2"><a href="SPC.html#cb251-2" aria-hidden="true" tabindex="-1"></a>syringe_sd <span class="ot">=</span> syringe_long <span class="sc">%&gt;%</span> <span class="fu">pull</span>(value) <span class="sc">%&gt;%</span> <span class="fu">sd</span>()</span>
<span id="cb251-3"><a href="SPC.html#cb251-3" aria-hidden="true" tabindex="-1"></a>syringe_n <span class="ot">&lt;-</span> <span class="fu">length</span>(syringe_long)</span>
<span id="cb251-4"><a href="SPC.html#cb251-4" aria-hidden="true" tabindex="-1"></a>theor_n <span class="ot">=</span> <span class="dv">1000000</span></span></code></pre></div>
<p><strong>calculation: probability of being between the limits</strong></p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="SPC.html#cb252-1" aria-hidden="true" tabindex="-1"></a>off_spec <span class="ot">&lt;-</span> <span class="cf">function</span>(UCL, LCL, mean, sd) {</span>
<span id="cb252-2"><a href="SPC.html#cb252-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">-</span> ((stats<span class="sc">::</span><span class="fu">pnorm</span>(UCL, mean, sd) <span class="sc">-</span> stats<span class="sc">::</span><span class="fu">pnorm</span>(LCL, mean, sd))<span class="sc">*</span><span class="dv">100</span>), <span class="dv">2</span>)</span>
<span id="cb252-3"><a href="SPC.html#cb252-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="SPC.html#cb253-1" aria-hidden="true" tabindex="-1"></a>syringe_off_spec <span class="ot">&lt;-</span> <span class="fu">off_spec</span>(spec_max, spec_min, syringe_mean, syringe_sd)</span></code></pre></div>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="SPC.html#cb254-1" aria-hidden="true" tabindex="-1"></a>syringe_theor <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> theor_n, <span class="at">mean =</span> syringe_mean, <span class="at">sd =</span> syringe_sd) <span class="sc">%&gt;%</span> </span>
<span id="cb254-2"><a href="SPC.html#cb254-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span></code></pre></div>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="SPC.html#cb255-1" aria-hidden="true" tabindex="-1"></a>plot_subtitle <span class="ot">&lt;-</span> <span class="fu">paste</span>(</span>
<span id="cb255-2"><a href="SPC.html#cb255-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Spec: [&quot;</span>, spec_min, <span class="st">&quot;;&quot;</span>, spec_max, </span>
<span id="cb255-3"><a href="SPC.html#cb255-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;], Proportion off-spec = &quot;</span>,</span>
<span id="cb255-4"><a href="SPC.html#cb255-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">signif</span>(syringe_off_spec, <span class="at">digits =</span> <span class="dv">2</span>), <span class="st">&quot;%&quot;</span></span>
<span id="cb255-5"><a href="SPC.html#cb255-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Note that we deliberately twick the plot colors to make it look like the plots from minitab and from the qcc package. We provide this theme in the book companion package <code>industRial</code> with the name theme_qcc.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="SPC.html#cb256-1" aria-hidden="true" tabindex="-1"></a>syringe_long <span class="sc">%&gt;%</span></span>
<span id="cb256-2"><a href="SPC.html#cb256-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> ..density..)) <span class="sc">+</span></span>
<span id="cb256-3"><a href="SPC.html#cb256-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb256-4"><a href="SPC.html#cb256-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">bins =</span> <span class="dv">30</span>,</span>
<span id="cb256-5"><a href="SPC.html#cb256-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb256-6"><a href="SPC.html#cb256-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;grey20&quot;</span>) <span class="sc">+</span></span>
<span id="cb256-7"><a href="SPC.html#cb256-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">data =</span> syringe_theor, <span class="at">linetype =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb256-8"><a href="SPC.html#cb256-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> {spec_min}, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb256-9"><a href="SPC.html#cb256-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> {spec_max}, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb256-10"><a href="SPC.html#cb256-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> {spec_tgt}, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb256-11"><a href="SPC.html#cb256-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">n.breaks =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb256-12"><a href="SPC.html#cb256-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_qcc</span>() <span class="sc">+</span></span>
<span id="cb256-13"><a href="SPC.html#cb256-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb256-14"><a href="SPC.html#cb256-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Out of specification (Expected)&quot;</span>, </span>
<span id="cb256-15"><a href="SPC.html#cb256-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> {plot_subtitle})</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-24-1.png" width="80%" /></p>
<p>By looking at the histogram of the Bamako lightning dataset we confirm the extreme offcentering of the production. We also see that although there are no measurements beyond the lower specification limit (LSL) it is very likely this will happen soon.</p>
<p>We can also calculate the Cpk</p>
<p><a href="#process_Cpk"></a></p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="SPC.html#cb257-1" aria-hidden="true" tabindex="-1"></a>process_Cpk <span class="ot">&lt;-</span> <span class="cf">function</span>(UCL, LCL, mean, sd) {</span>
<span id="cb257-2"><a href="SPC.html#cb257-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pmin</span>(</span>
<span id="cb257-3"><a href="SPC.html#cb257-3" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">abs</span>(mean <span class="sc">-</span> <span class="fu">abs</span>(LCL)) <span class="sc">/</span> (<span class="dv">3</span> <span class="sc">*</span> sd)),</span>
<span id="cb257-4"><a href="SPC.html#cb257-4" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">abs</span>((<span class="fu">abs</span>(UCL) <span class="sc">-</span> mean)) <span class="sc">/</span> (<span class="dv">3</span> <span class="sc">*</span> sd))</span>
<span id="cb257-5"><a href="SPC.html#cb257-5" aria-hidden="true" tabindex="-1"></a>   )</span>
<span id="cb257-6"><a href="SPC.html#cb257-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="SPC.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">process_Cpk</span>(spec_max, spec_min, syringe_mean, syringe_sd)</span></code></pre></div>
<pre><code>[1] 0.7158694</code></pre>
<p>And convert the percentage out of spec in parts per million. We’re not considering the 1.5 shift that sometimes is presented in the literature but rather making a simple direct conversion of the proportion out of spec found before:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="SPC.html#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="fu">formatC</span>(((syringe_off_spec) <span class="sc">*</span> <span class="dv">10000</span>), <span class="at">format =</span> <span class="st">&quot;d&quot;</span>, <span class="at">big.mark =</span> <span class="st">&quot;&#39;&quot;</span>)</span></code></pre></div>
<pre><code>[1] &quot;15&#39;900&quot;</code></pre>
<p>The expected population below the LSL is 1,3% which is very high for industry standards. In fact this corresponds to 15’900 parts per million (ppm) whereas a common target would be 1 ppm. Naturally these figures are indicative and they depend of the context criteria such as severity of the problem, cost, difficulty to eliminate the problem and so on.</p>
<p>We can now establish a simple table using the functions created before, to present the expected percentage that falls within certain limits. To make it useful as a reference table we’re putting this limits from <span class="math inline">\(\pm\)</span> 1 to <span class="math inline">\(\pm\)</span> 6 standard deviations</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="SPC.html#cb262-1" aria-hidden="true" tabindex="-1"></a>sigma_limits <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb262-2"><a href="SPC.html#cb262-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">sigma_plus =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>),</span>
<span id="cb262-3"><a href="SPC.html#cb262-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">sigma_minus =</span> <span class="sc">-</span>sigma_plus,</span>
<span id="cb262-4"><a href="SPC.html#cb262-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean =</span> <span class="dv">0</span>,</span>
<span id="cb262-5"><a href="SPC.html#cb262-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd =</span> <span class="dv">1</span></span>
<span id="cb262-6"><a href="SPC.html#cb262-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb262-7"><a href="SPC.html#cb262-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb262-8"><a href="SPC.html#cb262-8" aria-hidden="true" tabindex="-1"></a>sigma_limits <span class="sc">%&gt;%</span></span>
<span id="cb262-9"><a href="SPC.html#cb262-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb262-10"><a href="SPC.html#cb262-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">off_spec_perc =</span> <span class="fu">off_spec</span>(sigma_plus, sigma_minus, mean, sd),</span>
<span id="cb262-11"><a href="SPC.html#cb262-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Cpk =</span> <span class="fu">process_Cpk</span>(sigma_plus, sigma_minus, mean, sd),</span>
<span id="cb262-12"><a href="SPC.html#cb262-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">ppm_defects =</span> <span class="fu">formatC</span>(</span>
<span id="cb262-13"><a href="SPC.html#cb262-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">off_spec</span>(sigma_plus, sigma_minus, mean, sd) <span class="sc">*</span> <span class="dv">10000</span>,</span>
<span id="cb262-14"><a href="SPC.html#cb262-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">&quot;d&quot;</span>,</span>
<span id="cb262-15"><a href="SPC.html#cb262-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">big.mark =</span> <span class="st">&quot;&#39;&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb262-16"><a href="SPC.html#cb262-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sigma_minus, sigma_plus, off_spec_perc, Cpk, ppm_defects) <span class="sc">%&gt;%</span></span>
<span id="cb262-17"><a href="SPC.html#cb262-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">&quot;c&quot;</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="center">sigma_minus</th>
<th align="center">sigma_plus</th>
<th align="center">off_spec_perc</th>
<th align="center">Cpk</th>
<th align="center">ppm_defects</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">-1</td>
<td align="center">1</td>
<td align="center">31.73</td>
<td align="center">0.33</td>
<td align="center">317’300</td>
</tr>
<tr class="even">
<td align="center">-2</td>
<td align="center">2</td>
<td align="center">4.55</td>
<td align="center">0.67</td>
<td align="center">45’500</td>
</tr>
<tr class="odd">
<td align="center">-3</td>
<td align="center">3</td>
<td align="center">0.27</td>
<td align="center">1.00</td>
<td align="center">2’700</td>
</tr>
<tr class="even">
<td align="center">-4</td>
<td align="center">4</td>
<td align="center">0.01</td>
<td align="center">1.33</td>
<td align="center">100</td>
</tr>
<tr class="odd">
<td align="center">-5</td>
<td align="center">5</td>
<td align="center">0.00</td>
<td align="center">1.67</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">-6</td>
<td align="center">6</td>
<td align="center">0.00</td>
<td align="center">2.00</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
</div>
<div id="capability-chart" class="section level3">
<h3>Capability chart</h3>
<p><span id="processcapability"></span></p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="SPC.html#cb263-1" aria-hidden="true" tabindex="-1"></a>syringe_cpk <span class="ot">&lt;-</span> <span class="fu">process.capability</span>(</span>
<span id="cb263-2"><a href="SPC.html#cb263-2" aria-hidden="true" tabindex="-1"></a>  syringe_xbar,</span>
<span id="cb263-3"><a href="SPC.html#cb263-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">breaks =</span> <span class="dv">10</span>,</span>
<span id="cb263-4"><a href="SPC.html#cb263-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">spec.limits =</span> <span class="fu">c</span>(spec_min, spec_max),</span>
<span id="cb263-5"><a href="SPC.html#cb263-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">target =</span> spec_tgt,</span>
<span id="cb263-6"><a href="SPC.html#cb263-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">digits =</span> <span class="dv">2</span>,</span>
<span id="cb263-7"><a href="SPC.html#cb263-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">print =</span> <span class="cn">FALSE</span>,</span>
<span id="cb263-8"><a href="SPC.html#cb263-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">std.dev =</span> syringe_sd</span>
<span id="cb263-9"><a href="SPC.html#cb263-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-30-1.png" width="80%" /></p>
<p>A fine tuning of the forecast of the number of expected parts out of specification can be done with the parameter std.dev. The input value will be used in the probability distribution function. Different approaches can be considered: calculating the sandard deviation within each subgroup or the standard deviation of the entire population and also correcting the standard deviation dividing by n or by n - 1. In this example we re-use the standard deviation calculated on the entire set of datapoints as the group is small but for a case with more data it would be interesting to used the subgroups that tend to give smaller standard deviations.</p>
</div>
</div>
<div id="i-mr-charts" class="section level2">
<h2>I-MR charts</h2>
<p>In this final chapter we’re exploring the development of custom functions for summary statistics and timeseries plotting. All these functions are available on the book companion package <code>{industRial}</code> for exploration and further development. They don’t pretend to be used as such for real life applications. For that we recommend the functions from the package <code>{QCC}</code> presented before. The objective here is to show a workflow and demonstrate some possibilities that the <code>{tidyverse}</code> offers to make completely customized functions.</p>
<p>To encourage this exploration we’re not presenting here the complete code for each function but propose to check it with the R functionality for function code exploration. We see often the recommendation to read R source code and we can only support it as an excellent way to develop our skilset.</p>
<p>Lets start with the simple function that calculates the percentage of parts out of specification given the specification limits, the process mean and standard deviation. This function was presented in the previous case study and since it is loaded in memory we can read its content with the R function body():</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="SPC.html#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="fu">body</span>(off_spec)</span></code></pre></div>
<pre><code>{
    round(100 - ((stats::pnorm(UCL, mean, sd) - stats::pnorm(LCL, 
        mean, sd)) * 100), 2)
}</code></pre>
<p>we can see that it uses simple functions from the package {<code>stats}</code>. We can also explicitly request to see the arguments it takes with formals():</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="SPC.html#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dput</span>(<span class="fu">formals</span>(off_spec))</span></code></pre></div>
<pre><code>as.pairlist(alist(UCL = , LCL = , mean = , sd = ))</code></pre>
<p>and for a complete review we can open the function help page with:</p>
<pre><code>?off_spec</code></pre>
<p>Lets give some data and use the function:</p>
<p><span id="offspec"></span></p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="SPC.html#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="fu">off_spec</span>(<span class="fl">0.981</span>, <span class="fl">0.819</span>, <span class="fl">0.943</span>, <span class="fl">0.019</span>)</span></code></pre></div>
<pre><code>[1] 2.28</code></pre>
<p>we get 2.28% parts out of spec. We’ll see this calculation in action in a moment.</p>
<div id="process-stats" class="section level3">
<h3>Process stats</h3>
<p><strong>The tablet weight control procedure</strong></p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="SPC.html#cb271-1" aria-hidden="true" tabindex="-1"></a>tablet_weight <span class="ot">&lt;-</span> tablet_weight <span class="sc">%&gt;%</span></span>
<span id="cb271-2"><a href="SPC.html#cb271-2" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>(<span class="at">case =</span> <span class="st">&quot;snake&quot;</span>)</span></code></pre></div>
<p>We’re now going to use the function process stats to calculate several statistical data for this dataset. As mentionned we encourage the reader to explore the code with body(process_stats) and dput(formals(process_stats)) as there is a wealth of details in how to calculate process control limits, moving ranges and the like.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="SPC.html#cb272-1" aria-hidden="true" tabindex="-1"></a>weight_statistics_data <span class="ot">&lt;-</span> <span class="fu">process_stats</span>(tablet_weight, <span class="dv">10</span>)</span></code></pre></div>
<p>this being done we can now convert this data into an easy readable format for reporting of for a future integration in a shiny app for example. We’re exploring the package <code>{gt}</code> that has a specific very neat look rather different from the <code>{kable}</code> package used in most of the book.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="SPC.html#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="fu">process_stats_table</span>(weight_statistics_data)</span></code></pre></div>
<div id="thwumqqruf" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#thwumqqruf .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#thwumqqruf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#thwumqqruf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#thwumqqruf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#thwumqqruf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#thwumqqruf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#thwumqqruf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#thwumqqruf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#thwumqqruf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#thwumqqruf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#thwumqqruf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#thwumqqruf .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#thwumqqruf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#thwumqqruf .gt_from_md > :first-child {
  margin-top: 0;
}

#thwumqqruf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#thwumqqruf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#thwumqqruf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#thwumqqruf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#thwumqqruf .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#thwumqqruf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#thwumqqruf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#thwumqqruf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#thwumqqruf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#thwumqqruf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#thwumqqruf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#thwumqqruf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#thwumqqruf .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#thwumqqruf .gt_left {
  text-align: left;
}

#thwumqqruf .gt_center {
  text-align: center;
}

#thwumqqruf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#thwumqqruf .gt_font_normal {
  font-weight: normal;
}

#thwumqqruf .gt_font_bold {
  font-weight: bold;
}

#thwumqqruf .gt_font_italic {
  font-style: italic;
}

#thwumqqruf .gt_super {
  font-size: 65%;
}

#thwumqqruf .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style>Process Summary Statistics</th>
    </tr>
    
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Variable</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Unit</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Weight mean</td>
<td class="gt_row gt_right">0.9400000</td>
<td class="gt_row gt_left">g</td></tr>
    <tr><td class="gt_row gt_left">Spec target</td>
<td class="gt_row gt_right">0.9000000</td>
<td class="gt_row gt_left">g</td></tr>
    <tr><td class="gt_row gt_left">Spec min</td>
<td class="gt_row gt_right">0.8100000</td>
<td class="gt_row gt_left">g</td></tr>
    <tr><td class="gt_row gt_left">Spec max</td>
<td class="gt_row gt_right">0.9900000</td>
<td class="gt_row gt_left">g</td></tr>
    <tr><td class="gt_row gt_left" style="font-weight: bold;">Out of spec</td>
<td class="gt_row gt_right" style="font-weight: bold;">0.7100000</td>
<td class="gt_row gt_left" style="font-weight: bold;">%</td></tr>
    <tr><td class="gt_row gt_left" style="font-weight: bold;">Cpk</td>
<td class="gt_row gt_right" style="font-weight: bold;">0.8178525</td>
<td class="gt_row gt_left" style="font-weight: bold;"></td></tr>
    <tr><td class="gt_row gt_left">Sample size</td>
<td class="gt_row gt_right">137</td>
<td class="gt_row gt_left">parts</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="individual-chart" class="section level3">
<h3>Individual chart</h3>
<p>The data set being available we’re feeding it into the chart_I() function:</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="SPC.html#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chart_I</span>(weight_statistics_data)</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-37-1.png" width="80%" /></p>
</div>
<div id="moving-range-chart" class="section level3">
<h3>Moving range chart</h3>
<p>The companion of the I chart is the MR chart, where MR stands for moving range. This chart can be called with:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="SPC.html#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chart_IMR</span>(weight_statistics_data)</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-38-1.png" width="80%" /></p>
</div>
<div id="capability-chart-ii" class="section level3">
<h3>Capability chart II</h3>
<p>And a final chart for this session the capability chart:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="SPC.html#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chart_Cpk</span>(weight_statistics_data)</span></code></pre></div>
<p><img src="10_spc_files/figure-html/unnamed-chunk-39-1.png" width="80%" /></p>

</div>
</div>
</div>



<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Bass2007" class="csl-entry">
Bass, Issa. 2007. <em>Six Sigma Statistics with Excel and Minitab</em>. 1st ed. McGraw-Hill.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="DOE.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="contents.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"search": false,
"info": false,
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
