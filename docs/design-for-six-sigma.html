<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Design for Six Sigma | industRial data science</title>
  <meta name="description" content="Design for Six Sigma | industRial data science" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Design for Six Sigma | industRial data science" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="img/cover3.png" />
  
  <meta name="github-repo" content="J-Ramalho/industRialds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Design for Six Sigma | industRial data science" />
  
  
  <meta name="twitter:image" content="img/cover3.png" />

<meta name="author" content="João Ramalho" />


<meta name="date" content="2021-06-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tutorials.html"/>
<link rel="next" href="MSA.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-122820355-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-122820355-1');
</script>


<script type="text/javascript">
mattcrump=1;
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/industRialds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">industRial data science</a></li>

<li class="divider"></li>
<li class="part"><span><b>I INTRODUCTION</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html"><i class="fa fa-check"></i>Toolbox</a>
<ul>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#r-and-rstudio"><i class="fa fa-check"></i>R and RStudio</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#packages"><i class="fa fa-check"></i>Packages</a>
<ul>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#highlights"><i class="fa fa-check"></i>Highlights</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#datasets"><i class="fa fa-check"></i>Datasets</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#functions"><i class="fa fa-check"></i>Functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tutorials.html"><a href="tutorials.html"><i class="fa fa-check"></i>Tutorials</a>
<ul>
<li class="chapter" data-level="" data-path="tutorials.html"><a href="tutorials.html#on-the-web"><i class="fa fa-check"></i>On the web</a></li>
<li class="chapter" data-level="" data-path="tutorials.html"><a href="tutorials.html#locally"><i class="fa fa-check"></i>Locally</a></li>
</ul></li>
<li class="part"><span><b>II CASE STUDIES</b></span></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html"><i class="fa fa-check"></i>Design for Six Sigma</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#pareto-analysis"><i class="fa fa-check"></i>Pareto analysis</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#collecting-defects"><i class="fa fa-check"></i>Collecting defects</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#paretochart"><i class="fa fa-check"></i>Pareto chart</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#root-cause-analysis"><i class="fa fa-check"></i>Root cause analysis</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#brainstorming"><i class="fa fa-check"></i>Brainstorming</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#ishikawa"><i class="fa fa-check"></i>Ishikawa digram</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#correlations"><i class="fa fa-check"></i>Correlations</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#matrix"><i class="fa fa-check"></i>Matrix</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#tileplot"><i class="fa fa-check"></i>Tileplot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#clustering"><i class="fa fa-check"></i>Clustering</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#clustering-algorithms"><i class="fa fa-check"></i>Clustering algorithms</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#network_plot"><i class="fa fa-check"></i>Network plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html"><i class="fa fa-check"></i>Measurement System Analysis</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#calibration"><i class="fa fa-check"></i>Calibration</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#bias_plot"><i class="fa fa-check"></i>Bias plot</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#bias_report"><i class="fa fa-check"></i>Bias report</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#precision"><i class="fa fa-check"></i>Precision</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#gageRnR"><i class="fa fa-check"></i>Gage r&amp;R</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#gage_acceptance"><i class="fa fa-check"></i>Gage acceptance</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#gage-plots"><i class="fa fa-check"></i>Gage plots</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#negative-variance"><i class="fa fa-check"></i>Negative variance</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#custom-functions"><i class="fa fa-check"></i>Custom functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#uncertainty"><i class="fa fa-check"></i>Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html"><i class="fa fa-check"></i>Design of Experiments</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#direct-comparisons"><i class="fa fa-check"></i>Direct comparisons</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#histogram"><i class="fa fa-check"></i>Histogram</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#t.test"><i class="fa fa-check"></i>t-test one sample</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#geom_qq"><i class="fa fa-check"></i>Normality plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#var.test"><i class="fa fa-check"></i>F-test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#levene.test"><i class="fa fa-check"></i>Levene test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#t-test-two-samples"><i class="fa fa-check"></i>t-test two samples</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#statistical-modeling"><i class="fa fa-check"></i>Statistical modeling</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#lm"><i class="fa fa-check"></i>Linear models</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#contr.treatment"><i class="fa fa-check"></i>Contrasts</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#predict"><i class="fa fa-check"></i>Predict</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#augment"><i class="fa fa-check"></i>Model augment</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#residuals_timeseries"><i class="fa fa-check"></i>Timeseries plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#autocorrelation"><i class="fa fa-check"></i>Autocorrelation test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#normality-plot"><i class="fa fa-check"></i>Normality plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#shapiroTest"><i class="fa fa-check"></i>Normality test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#residuals_fit"><i class="fa fa-check"></i>Residuals-Fit plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#std_residuals_fit"><i class="fa fa-check"></i>Standard Residuals-Fit plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#std_residuals_factors"><i class="fa fa-check"></i>Standard Residuals-Factor plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#homocedasticity"><i class="fa fa-check"></i>Homocedasticity</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#outliers"><i class="fa fa-check"></i>Outliers test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#cooks"><i class="fa fa-check"></i>Cooks distance</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#R-squared"><i class="fa fa-check"></i>R-squared</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#effects-significance"><i class="fa fa-check"></i>Effects significance</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#aov"><i class="fa fa-check"></i>Anova</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#tukey"><i class="fa fa-check"></i>Pairwise comparison</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#fisherLSD"><i class="fa fa-check"></i>Least significant difference</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interactions"><i class="fa fa-check"></i>Interactions</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#formula"><i class="fa fa-check"></i>Model formulae</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#RSE"><i class="fa fa-check"></i>Residuals standard error</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#plot.lm"><i class="fa fa-check"></i>Residuals summary</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interaction.plot"><i class="fa fa-check"></i>Interaction plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova"><i class="fa fa-check"></i>Anova with interactions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#covariance"><i class="fa fa-check"></i>Covariance</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#cor.test"><i class="fa fa-check"></i>Correlation test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#ancova_aov"><i class="fa fa-check"></i>Ancova</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#general-designs"><i class="fa fa-check"></i>General designs</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#fac.design"><i class="fa fa-check"></i>Factorial design</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#main_effects"><i class="fa fa-check"></i>Main effects plots</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interaction_plot"><i class="fa fa-check"></i>Interaction plots (custom)</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#formula_expansion"><i class="fa fa-check"></i>Formula expansion</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova_three"><i class="fa fa-check"></i>Anova with 3rd level interactions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#two-level-designs"><i class="fa fa-check"></i>Two level designs</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#factorial-design-2-levels"><i class="fa fa-check"></i>Factorial design 2 levels</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coding_levels"><i class="fa fa-check"></i>Coding levels</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#plotMeans"><i class="fa fa-check"></i>Interaction plots with SE</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#adj_Rsquare"><i class="fa fa-check"></i>Adjusted R-squared</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coding_inputs"><i class="fa fa-check"></i>Coding inputs</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coded_prediction"><i class="fa fa-check"></i>Coded prediction</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#persp"><i class="fa fa-check"></i>Perspective plot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#single-replicate-designs"><i class="fa fa-check"></i>Single replicate designs</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#qqPlot"><i class="fa fa-check"></i>Effects normal plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#effects_contribution"><i class="fa fa-check"></i>Effects contribution table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html"><i class="fa fa-check"></i>Statistical Process Control</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#xbar-r-charts"><i class="fa fa-check"></i>xbar-R charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#xbar_chart"><i class="fa fa-check"></i>Mean chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#Rchart"><i class="fa fa-check"></i>Range chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#limits.xbar"><i class="fa fa-check"></i>Control limits</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#cpk-charts"><i class="fa fa-check"></i>Cpk charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#off_spec"><i class="fa fa-check"></i>Off specification</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#process_Cpk"><i class="fa fa-check"></i>Process Capability</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#sigma_table"><i class="fa fa-check"></i>Sigma conversion table</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#process.capability"><i class="fa fa-check"></i>Capability chart</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#i-mr-charts"><i class="fa fa-check"></i>I-MR charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#process_stats"><i class="fa fa-check"></i>Process statistics</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#chart_I"><i class="fa fa-check"></i>Individual chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#chart_IMR"><i class="fa fa-check"></i>Moving range chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#chart_Cpk"><i class="fa fa-check"></i>Capability chart (custom)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III APPENDIX</b></span></li>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html"><i class="fa fa-check"></i>Index</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i>Glossary</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#statistics"><i class="fa fa-check"></i>Statistics</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#notation-conventions"><i class="fa fa-check"></i>Notation conventions</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#descriptive-statistics"><i class="fa fa-check"></i>Descriptive statistics</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#probability"><i class="fa fa-check"></i>Probability</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#statistical-inference"><i class="fa fa-check"></i>Statistical Inference</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#linear-models"><i class="fa fa-check"></i>Linear models</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#dfss"><i class="fa fa-check"></i>DFSS</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#voice-of-customer"><i class="fa fa-check"></i>Voice of Customer</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#voice-of-process"><i class="fa fa-check"></i>Voice of Process</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#msa"><i class="fa fa-check"></i>MSA</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#doe"><i class="fa fa-check"></i>DOE</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#spc"><i class="fa fa-check"></i>SPC</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="imprint.html"><a href="imprint.html"><i class="fa fa-check"></i>Imprint</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">indust<b style='color:#38598CFF'>R</b>ial data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="design-for-six-sigma" class="section level1">
<h1>Design for Six Sigma</h1>
<p>Quality tools have been grouped under varied names and methodologies being Six Sigma one of the most well known and comprehensives ones. The domain is vast as seen in the many tools collected and described in the Six Sigma book by <span class="citation"><a href="references.html#ref-Munro2015" role="doc-biblioref">Roderik A.Munro and J.Zrymiak</a> (<a href="references.html#ref-Munro2015" role="doc-biblioref">2015</a>)</span>. For this section we’ve selected a few cases that strongly support Measurement System Analysis, Design of Experiments and Statistical Process Control. Beside supporting the remaining sections, they also pretend to showcase how R can be used also for other purposes than data wrangling and visualization in the domain of industrial data science, typically to obtain easily reproducible diagrams.</p>
<p>We start with a case on a dial workshop in the watch making industrial where the pareto chart comes handy. We then move to a dental prosthesis laboratory to see how a simple fishbone diagram can help pinpoint special causes of the measurement variation of an optical device and we finish we two different approaches on how to optimize experiment execution by assess the correlation between the outputs in order to minimize the parameters to measure.</p>
<div id="pareto-analysis" class="section level2">
<h2>Pareto analysis</h2>
<div class="marginnote">
<p><b class="highlight">Case study: dial polishing workshop</b></p>
<p>Watch dials are received from the stamping process and polished before being sent to the final assembly. As part of the autonomous quality control performed by the polishing operators a count of the defects observed on the dials each day is logged in a spreadsheet.</p>
<p><img src="img/assemblage_cadran_bw.jpg" width="100%" /></p>
</div>
<p>The pareto chart has always proven an effective way of defining priorities and keeping workload under control. It is known for helping focusing on the few important elements that account for most problems. It builds on the well known insight that a few reasons explain or allow to control most of the outcome. This applies particularly well in the technological and industrial context.</p>
<p>Often in workshop setups the priorities of day are set by the informal discussions between team members. It is important to be sensitive to the last problem observed or the latest request from management but it is also important to look at data, particularly over a period of time. When looking at simple things as counts and frequencies we sometimes get surprised of how different our perception is from the reality shown by the data collected.</p>
<p>Collecting data can be done in many different forms and there’s no right or wrong. It can be noted on a board, log book, spreadsheet or in a dedicated software.</p>
<p>In a <b class="highlight">dial polishing workshop</b> of a watchmaking manufacture, the assembly operators have been collecting dial defects in a spreadsheet. Logging a defect doesn’t mean the dial is directly scrapped. Putting away parts has strong impact on the cost of the operation and has to be done on clear criteria. Sometimes the parts can be rework with minor effort. The datalog corresponds to the status of the dials as they arrive from the stamping and before entering the polishing operation. Their dataset with the name <code>dial_control</code> shows each dial unique number and the general and defect information noted by the operators.</p>
<div id="collecting-defects" class="section level3">
<h3>Collecting defects</h3>
<div class="marginnote">
<p>All datasets are available by loading the book companion package with <code>library(industRial)</code>. Full instructions in the <a href="toolbox.html#datasets">datasets</a> session.</p>
</div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="design-for-six-sigma.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dial_control) <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="design-for-six-sigma.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">&quot;c&quot;</span>, </span>
<span id="cb15-3"><a href="design-for-six-sigma.html#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">&quot;dial control data&quot;</span>, </span>
<span id="cb15-4"><a href="design-for-six-sigma.html#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">booktabs =</span> T)</span></code></pre></div>
<table>
<caption><span id="tab:tbl-dial">Table 1: </span>dial control data</caption>
<thead>
<tr class="header">
<th align="center">Operator</th>
<th align="center">Date</th>
<th align="center">Defect</th>
<th align="center">Location</th>
<th align="center">id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Jane</td>
<td align="center">2018.01.31</td>
<td align="center">Indent</td>
<td align="center">3h</td>
<td align="center">D2354</td>
</tr>
<tr class="even">
<td align="center">Jane</td>
<td align="center">2018.02.02</td>
<td align="center">Indent</td>
<td align="center">3h</td>
<td align="center">D2355</td>
</tr>
<tr class="odd">
<td align="center">Jane</td>
<td align="center">2018.02.02</td>
<td align="center">Indent</td>
<td align="center">4h</td>
<td align="center">D2356</td>
</tr>
<tr class="even">
<td align="center">Peter</td>
<td align="center">2018.02.02</td>
<td align="center">Indent</td>
<td align="center">10h</td>
<td align="center">D2357</td>
</tr>
<tr class="odd">
<td align="center">Jane</td>
<td align="center">2018.02.03</td>
<td align="center">Scratch</td>
<td align="center">3h</td>
<td align="center">D2358</td>
</tr>
<tr class="even">
<td align="center">Jane</td>
<td align="center">2018.02.03</td>
<td align="center">Indent</td>
<td align="center">3h</td>
<td align="center">D2359</td>
</tr>
</tbody>
</table>
<p>We can see that the count includes both the deffect type and the location (the hour in the dial) and that it is traced to the day and operator.</p>
<p>The team leader promotes a culture of fact based assessment of the quality measurements. Every week the team looks back and observes the weekly counts. When the quantity of data get bigger trends to start becoming apparent. The team can discuss potential actions and prepare reporting to the supplier of the parts (the stamping workshop). It also helps calibrating between operators and agreeing on acceptance criteria and what is and what is not a defect.</p>
<p>Recently there have been lots of talk about scratched dials and there’s a big focus on how to get rid of them. For their weekly review Christophe has prepared a pareto chart in R.</p>
</div>
<div id="paretochart" class="section level3">
<h3>Pareto chart</h3>
<div class="marginnote">
<p>See <a href="toolbox.html#qicharts2">{qicharts2}</a> for more details on this R package</p>
</div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="design-for-six-sigma.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qicharts2)</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="design-for-six-sigma.html#cb17-1" aria-hidden="true" tabindex="-1"></a>d_type <span class="ot">&lt;-</span> dial_control <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Defect) <span class="sc">%&gt;%</span> <span class="fu">as.character</span>()</span>
<span id="cb17-2"><a href="design-for-six-sigma.html#cb17-2" aria-hidden="true" tabindex="-1"></a>d_type_p <span class="ot">&lt;-</span> <span class="fu">paretochart</span>(d_type, </span>
<span id="cb17-3"><a href="design-for-six-sigma.html#cb17-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">title =</span> <span class="st">&quot;Watch dial Defects&quot;</span>,</span>
<span id="cb17-4"><a href="design-for-six-sigma.html#cb17-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">subtitle =</span> <span class="st">&quot;Pareto chart&quot;</span>, </span>
<span id="cb17-5"><a href="design-for-six-sigma.html#cb17-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">ylab =</span> <span class="st">&quot;Percentage of deffects&quot;</span>,</span>
<span id="cb17-6"><a href="design-for-six-sigma.html#cb17-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">xlab =</span> <span class="st">&quot;Deffect type&quot;</span>,</span>
<span id="cb17-7"><a href="design-for-six-sigma.html#cb17-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">caption =</span> <span class="st">&quot;Source: dial polishing workshop&quot;</span>)</span>
<span id="cb17-8"><a href="design-for-six-sigma.html#cb17-8" aria-hidden="true" tabindex="-1"></a>d_type_p <span class="sc">+</span> </span>
<span id="cb17-9"><a href="design-for-six-sigma.html#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_industRial</span>()</span></code></pre></div>
<p><img src="3_sixsigma_files/figure-html/fig-pareto1-1.png" width="100%" /></p>
<p>As often happens we can see that the first two defects account for more than 80% of the problems. Scratching levels are in fact high but they realize indentation is even higher. Is it clear what indentation is? Have we been noting sometimes indentation for scratches? Where to draw the line? and are the causes of these two defects the same?</p>
<p>The decides to go deeper in the analysis and Peter says that a potential cause is the fixing tool that holds the dial on the right. To check Peter’s hypothesis Jane prepares another plot by location for the next week review.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="design-for-six-sigma.html#cb18-1" aria-hidden="true" tabindex="-1"></a>d_location <span class="ot">&lt;-</span> dial_control <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Location) <span class="sc">%&gt;%</span> <span class="fu">as.character</span>()</span>
<span id="cb18-2"><a href="design-for-six-sigma.html#cb18-2" aria-hidden="true" tabindex="-1"></a>d_location_p <span class="ot">&lt;-</span> <span class="fu">paretochart</span>(d_location, </span>
<span id="cb18-3"><a href="design-for-six-sigma.html#cb18-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">title =</span> <span class="st">&quot;Watch dial deffects&quot;</span>,</span>
<span id="cb18-4"><a href="design-for-six-sigma.html#cb18-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">subtitle =</span> <span class="st">&quot;Pareto chart&quot;</span>, </span>
<span id="cb18-5"><a href="design-for-six-sigma.html#cb18-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">ylab =</span> <span class="st">&quot;Percentage of deffects&quot;</span>,</span>
<span id="cb18-6"><a href="design-for-six-sigma.html#cb18-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">xlab =</span> <span class="st">&quot;Deffect location (hour)&quot;</span>,</span>
<span id="cb18-7"><a href="design-for-six-sigma.html#cb18-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">caption =</span> <span class="st">&quot;Source: Dial workshop&quot;</span>)</span>
<span id="cb18-8"><a href="design-for-six-sigma.html#cb18-8" aria-hidden="true" tabindex="-1"></a>d_location_p <span class="sc">+</span></span>
<span id="cb18-9"><a href="design-for-six-sigma.html#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_industRial</span>()</span></code></pre></div>
<p><img src="3_sixsigma_files/figure-html/fig-pareto2-1.png" width="100%" /></p>
<p>Effectively there are many defects at 3h corresponding to the position on the right of the dial (and even more at 4h). Peter’s assumption may be right, the team decides to gather in the first polishing workbench and share openly how each of them fixes the dial to try to understand if there is a specific procedure or applied force that creates the defect.</p>
<p>This example shows how data collecting can be simple and effective. if no one in the team is using R yet, a simple pareto chart could be done more simply with a spreadsheet. What R brings is the possibility to quickly scale up: handling very large and constantly changing files for example and also the possibility to directly and simply produce pdf reports or dynamic web applications to collect and visualize the data.</p>
<p>To practice and go further in the exploration of pareto charts checkout the tutorials section.</p>
</div>
</div>
<div id="root-cause-analysis" class="section level2">
<h2>Root cause analysis</h2>
<div class="marginnote">
<p><b class="highlight">Case study: dental prosthesis laboratory</b></p>
<p>An optical measurement device has just been installed in a large Dental Prosthesis Manufacturing Laboratory. It is precise but expensive device based on laser technology which has been installed in a dedicated stabilized workbench.</p>
<p><img src="img/dental_scan2.png" width="100%" /></p>
</div>
<p>Usually called Fishbone or Ishikawa diagrams this simple tool has proven to be extremely practical and helpful in structuring team discussions.</p>
<p>With it we can easily identify and list the expected influencing factors in various contexts such as the preparation of an experiment design. Selection and grouping input parameters can be useful in defining for example the right mix of ingredients in a new product, in selecting manufacturing parameters in an industrial production line or in the definition of a draft operating procedure for a measurement device. In each of these situations it helps seeing the big picture and not fall into the trap of relying only in the data and findings obtained by statistical analysis.</p>
<p>In this case study we’re exploring the creation of Ishikawa diagrams with the <code>{qcc}</code> package. <span class="citation"><a href="references.html#ref-Cano2012" role="doc-biblioref">Emilio L. Cano</a> (<a href="references.html#ref-Cano2012" role="doc-biblioref">2012</a>)</span> recommends the utilization of R even for such simple diagrams with clear arguments on reproducibility and ease of update. If R and programming is already part of the working culture and there’s someone in the team this makes perfect sense.</p>
<p>The lab manager of a <b class="highlight">dental prosthesis laboratory</b> has acquired a optical device for the precise measurement of the dental impressions that serve as models for the production of the crowns and bridges.</p>
<p>The lab has been having complains and several parts have been returned from the dentists and had to be partially or totally reworked. Besides the potential troubles to patients and the already incurred financial losses there is a reputation loss of which the lab manager is very concerned with. Regardless of all this the acquisition decision has taken more than a year.</p>
<p>After installation and in spite all the precautions it has been reported and now demonstrated with some specific trials that the measurements have a high variation which is preventing putting it in operation. Until now the laboratory team has always had full confidence in the equipment supplier and the Lab Manager has even seen the same equipment operating in another laboratory from the group.</p>
<p>The supplier has been called on site to check the equipment and having seen no reason for the variability proposes to work with the lab team on identifying the potential causes for the high uncertainty in their measurements. They decided to consider a larger scope than just the equipment and take the full measurement method as described in the laboratory operating procedure. They organize a brainstorm, list different reasons related with they’re work and group them.</p>
<div id="brainstorming" class="section level3">
<h3>Brainstorming</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="design-for-six-sigma.html#cb19-1" aria-hidden="true" tabindex="-1"></a>operators <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Supplier&quot;</span>, <span class="st">&quot;Lab Technician&quot;</span>, <span class="st">&quot;Lab Manager&quot;</span>)</span>
<span id="cb19-2"><a href="design-for-six-sigma.html#cb19-2" aria-hidden="true" tabindex="-1"></a>materials <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Silicon&quot;</span>, <span class="st">&quot;Alginate&quot;</span>, <span class="st">&quot;Polyethers&quot;</span>)</span>
<span id="cb19-3"><a href="design-for-six-sigma.html#cb19-3" aria-hidden="true" tabindex="-1"></a>machines <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Brightness&quot;</span>, <span class="st">&quot;Fixture&quot;</span>, <span class="st">&quot;Dimensional algorithm&quot;</span>)</span>
<span id="cb19-4"><a href="design-for-six-sigma.html#cb19-4" aria-hidden="true" tabindex="-1"></a>methods <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Fixture&quot;</span>, <span class="st">&quot;Holding time&quot;</span>, <span class="st">&quot;Resolution&quot;</span>)</span>
<span id="cb19-5"><a href="design-for-six-sigma.html#cb19-5" aria-hidden="true" tabindex="-1"></a>measurements <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Recording method&quot;</span>, <span class="st">&quot;Rounding&quot;</span>, <span class="st">&quot;Log&quot;</span>)</span>
<span id="cb19-6"><a href="design-for-six-sigma.html#cb19-6" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Operator&quot;</span>, <span class="st">&quot;Material&quot;</span>, <span class="st">&quot;Machine&quot;</span>, <span class="st">&quot;Method&quot;</span>, <span class="st">&quot;Measurement&quot;</span>)</span>
<span id="cb19-7"><a href="design-for-six-sigma.html#cb19-7" aria-hidden="true" tabindex="-1"></a>effect <span class="ot">&lt;-</span> <span class="st">&quot;Too high uncertainty&quot;</span></span></code></pre></div>
<p>One of the team members is using R and he has generating all previous reports on the topic with R markdown. He simply adds to the last report a call to the <code>{qcc}</code> package and quickly obtains a simple diagram that allows for a quick visualization of these influencing factors.</p>
</div>
<div id="ishikawa" class="section level3">
<h3>Ishikawa digram</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="design-for-six-sigma.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qcc)</span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="design-for-six-sigma.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cause.and.effect</span>(</span>
<span id="cb21-2"><a href="design-for-six-sigma.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Potential causes for optical measurement variation&quot;</span>,</span>
<span id="cb21-3"><a href="design-for-six-sigma.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cause =</span> <span class="fu">list</span>(</span>
<span id="cb21-4"><a href="design-for-six-sigma.html#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Operator =</span> operators,</span>
<span id="cb21-5"><a href="design-for-six-sigma.html#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Material =</span> materials,</span>
<span id="cb21-6"><a href="design-for-six-sigma.html#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Machine =</span> machines,</span>
<span id="cb21-7"><a href="design-for-six-sigma.html#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Method =</span> methods,</span>
<span id="cb21-8"><a href="design-for-six-sigma.html#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Measurement =</span> measurements</span>
<span id="cb21-9"><a href="design-for-six-sigma.html#cb21-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb21-10"><a href="design-for-six-sigma.html#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">effect =</span> effect</span>
<span id="cb21-11"><a href="design-for-six-sigma.html#cb21-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="3_sixsigma_files/figure-html/fig-fishbone-1.png" width="100%" /></p>
<p>The listed factors can now be addressed either one by one or in combined experiments to evaluate their impact on the measurement method. The lab team has decided to assess the method robustness to the brightness and to the dimensional algorithm and will prepare an experiment design with several combinations of these parameters to evaluate them. Using the diagram they can easily keep track of what has been listed, tested and can be eliminated as root cause.</p>
</div>
</div>
<div id="correlations" class="section level2">
<h2>Correlations</h2>
<div class="marginnote">
<p><b class="highlight">Case study: perfume distillation experiment</b></p>
<p>A Project Manager in perfume formulation needs to understand in detail the impact of the perfume manufacturing line parameters variation (e.g. temperature, pressure and others) in typical perfume sensorial characteristics such as the floral notes.</p>
<p><img src="img/parfum.jpg" width="100%" /></p>
</div>
<p>A correlation matrix is a way to discover relationships between groups of items. Such matrix can also be used to select which output measurement should be done in priority in a design of experiments (DOE). In exploratory phases when the experiments are repeated several time with slightly different configurations, secondary outputs that are strongly correlated to main outputs can be eliminated</p>
<p>In an industrial setup the cost of experimenting is often very high. With this approach engineers and scientists can keep the test quantities in control and avoiding measurements until final stages of implementation. We explore in this case study two different techniques, one with a tile plot and another more advanced with a network plot.</p>
<p>A DOE consists in a series of trials where several inputs are combined together and important outputs are measured (further details can be seen in the DOE chapter). Commonly DOE analysis results linking inputs to outputs are presented with effects plots and interaction plots but before getting it is important to check the correlation between the outputs. Often there groups of outputs move together even if there is no cause and effect relationship between them. We can see this correlation in a tile plot.</p>
<p>A team of experts of a manufacturer of fragrances has listed 23 different output variables of interest for an exploratory <b class="highlight">perfume distillation experiment</b>. Facing such extensive list the Project Manager decided to put the team together a second time to try to set priorities. The approach was to guess the results of the experiment which allowed to go deeper in the technology and to construct an experiment plan in a meaningful way. The experts inputs have been captured in a a two entry table named <code>perfume_experiement</code>.</p>
<div id="matrix" class="section level3">
<h3>Matrix</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="design-for-six-sigma.html#cb22-1" aria-hidden="true" tabindex="-1"></a>perfume_experiment[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>]<span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="design-for-six-sigma.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(</span>
<span id="cb22-3"><a href="design-for-six-sigma.html#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="st">&quot;c&quot;</span>,</span>
<span id="cb22-4"><a href="design-for-six-sigma.html#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;perfume DoE correlation matrix of the outputs&quot;</span>,</span>
<span id="cb22-5"><a href="design-for-six-sigma.html#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">booktabs =</span> T</span>
<span id="cb22-6"><a href="design-for-six-sigma.html#cb22-6" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div>
<table>
<caption><span id="tab:tbl-perfume">Table 2: </span>perfume DoE correlation matrix of the outputs</caption>
<thead>
<tr class="header">
<th align="center">yy</th>
<th align="center">pw</th>
<th align="center">w</th>
<th align="center">pm</th>
<th align="center">pe</th>
<th align="center">f</th>
<th align="center">it</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">pw</td>
<td align="center">0</td>
<td align="center">10</td>
<td align="center">3</td>
<td align="center">3</td>
<td align="center">2</td>
<td align="center">2</td>
</tr>
<tr class="even">
<td align="center">w</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">3</td>
<td align="center">3</td>
<td align="center">2</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">pm</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">6</td>
<td align="center">6</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">pe</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">6</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">f</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">7</td>
</tr>
<tr class="even">
<td align="center">it</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
<p>In the matrix the experiment output variables are named with coded names made of two letters. They represent the production Line Parameters (e.g. t = temperature, o = opening, pw = power) and the Perfume Attributes (f = flower). We can see in the table what the experts have noted the expected correlation strengths in an unusual way from 1 to 10, with 10 being the highest. In order to prepare a visual representation with a tile plot from <code>{ggplot2}</code> the data is transformed to long format. An additional trick is to convert the values at zero to NA so that they get directly transparent on the plot.</p>
<div class="marginnote">
<p>Values at zero in the dataset are converted to type NA_real_ to obtain a transparent background in the the tileplot.</p>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="design-for-six-sigma.html#cb23-1" aria-hidden="true" tabindex="-1"></a>perfume_long <span class="ot">&lt;-</span> perfume_experiment <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="design-for-six-sigma.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb23-3"><a href="design-for-six-sigma.html#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span>yy,</span>
<span id="cb23-4"><a href="design-for-six-sigma.html#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;correlation&quot;</span>,</span>
<span id="cb23-5"><a href="design-for-six-sigma.html#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;xx&quot;</span></span>
<span id="cb23-6"><a href="design-for-six-sigma.html#cb23-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="design-for-six-sigma.html#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">correlation =</span> <span class="fu">if_else</span>(</span>
<span id="cb23-8"><a href="design-for-six-sigma.html#cb23-8" aria-hidden="true" tabindex="-1"></a>    correlation <span class="sc">==</span> <span class="dv">0</span>, <span class="cn">NA_real_</span>, correlation)) <span class="sc">%&gt;%</span></span>
<span id="cb23-9"><a href="design-for-six-sigma.html#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">correlation =</span> <span class="fu">as_factor</span>(correlation))</span></code></pre></div>
</div>
<div id="tileplot" class="section level3">
<h3>Tileplot</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="design-for-six-sigma.html#cb24-1" aria-hidden="true" tabindex="-1"></a>perfume_long <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="design-for-six-sigma.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> xx, <span class="at">y =</span> yy, <span class="at">fill =</span> correlation)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="design-for-six-sigma.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">name =</span> <span class="st">&quot;Correlation</span><span class="sc">\n</span><span class="st">Strength&quot;</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="design-for-six-sigma.html#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span> </span>
<span id="cb24-5"><a href="design-for-six-sigma.html#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-6"><a href="design-for-six-sigma.html#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;The Perfume destilation experiment&quot;</span>,</span>
<span id="cb24-7"><a href="design-for-six-sigma.html#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Output variables correlation plot &quot;</span>,</span>
<span id="cb24-8"><a href="design-for-six-sigma.html#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb24-9"><a href="design-for-six-sigma.html#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb24-10"><a href="design-for-six-sigma.html#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Anonymised data&quot;</span></span>
<span id="cb24-11"><a href="design-for-six-sigma.html#cb24-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-12"><a href="design-for-six-sigma.html#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_industRial</span>()</span></code></pre></div>
<p><img src="3_sixsigma_files/figure-html/fig-perfumetileplot-1.png" width="100%" /></p>
<p>The plot shows that many parameters are expected to move together. Looking in detail the flow aroma moves together with other sensory attributes such as hp, o and oc. After this first DoE the real correlations will be established and the team expects to be able to avoid a significant part of the measurements that have a correlation higher than 50% from the second DoE onward.</p>
</div>
</div>
<div id="clustering" class="section level2">
<h2>Clustering</h2>
<p>In this second analysis of the <b class="highlight">perfume distillation experiment</b> we present a more advanced but more powerful approach using network plots. It explores an automatic way to clustering the variables and a specific way to present such clusters.</p>
<p>Technically we’re going to build a weighed non directional network(tbl_graph) object. Several steps of conversion are required for this approach first with functions from various packages from the networks domain.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="design-for-six-sigma.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb25-2"><a href="design-for-six-sigma.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb25-3"><a href="design-for-six-sigma.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span></code></pre></div>
<p>The first step consists in converting the “Perfume” tibble to a matrix format:</p>
<div class="marginnote">
<p>The perfume_experiment is originaly coded as a tibble object.</p>
</div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="design-for-six-sigma.html#cb26-1" aria-hidden="true" tabindex="-1"></a>perfume_matrix <span class="ot">&lt;-</span> perfume_experiment <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="design-for-six-sigma.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="st">&quot;yy&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="design-for-six-sigma.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>()</span></code></pre></div>
<p>Then using the <code>{igraph}</code> package we convert the matrix into a graph object:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="design-for-six-sigma.html#cb27-1" aria-hidden="true" tabindex="-1"></a>perfume_graph <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(</span>
<span id="cb27-2"><a href="design-for-six-sigma.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  perfume_matrix, <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>, <span class="at">weighted =</span> <span class="cn">TRUE</span></span>
<span id="cb27-3"><a href="design-for-six-sigma.html#cb27-3" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>to finally convert it into a tibble graph with <code>{tidygraph}</code> package:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="design-for-six-sigma.html#cb28-1" aria-hidden="true" tabindex="-1"></a>perfum_tbl_graph <span class="ot">&lt;-</span> <span class="fu">as_tbl_graph</span>(perfume_graph, <span class="at">add.rownames =</span> <span class="st">&quot;nodes_names&quot;</span>)</span></code></pre></div>
<p>As mentioned the experts have provided the correlation strength in the unusual scale from 1 to 10 which was easier for them during discussion. Here we’re here converting it back to the 0 to 1 which is more common in the statistics community. For simplicity, negative correlations were not considered just the strength, enabling the network to be unidirectional.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="design-for-six-sigma.html#cb29-1" aria-hidden="true" tabindex="-1"></a>perfum_tbl_graph <span class="ot">&lt;-</span> perfum_tbl_graph <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="design-for-six-sigma.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="design-for-six-sigma.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight =</span> weight<span class="sc">/</span><span class="dv">10</span>)</span>
<span id="cb29-4"><a href="design-for-six-sigma.html#cb29-4" aria-hidden="true" tabindex="-1"></a>perfum_tbl_graph</span></code></pre></div>
<pre><code># A tbl_graph: 22 nodes and 85 edges
#
# An undirected simple graph with 7 components
#
# Edge Data: 85 x 3 (active)
   from    to weight
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;
1     1     2    1  
2     1     3    0.3
3     1     4    0.3
4     1     5    0.2
5     1     6    0.2
6     1     8    0.8
# ... with 79 more rows
#
# Node Data: 22 x 1
  name 
  &lt;chr&gt;
1 pw   
2 w    
3 pm   
# ... with 19 more rows</code></pre>
<p>In the previous chunk output we see a preview of the tibble graph object with the first few nodes and edges. Now we create a vector with various igraph layouts to allow for easier selection when making the plots:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="design-for-six-sigma.html#cb31-1" aria-hidden="true" tabindex="-1"></a>igraph_layouts <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;star&#39;</span>, <span class="st">&#39;circle&#39;</span>, <span class="st">&#39;gem&#39;</span>, <span class="st">&#39;dh&#39;</span>, <span class="st">&#39;graphopt&#39;</span>, <span class="st">&#39;grid&#39;</span>, <span class="st">&#39;mds&#39;</span>, </span>
<span id="cb31-2"><a href="design-for-six-sigma.html#cb31-2" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&#39;randomly&#39;</span>, <span class="st">&#39;fr&#39;</span>, <span class="st">&#39;kk&#39;</span>, <span class="st">&#39;drl&#39;</span>, <span class="st">&#39;lgl&#39;</span>)</span></code></pre></div>
<p>and do a first network plot to check data upload:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="design-for-six-sigma.html#cb32-1" aria-hidden="true" tabindex="-1"></a>perfum_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="design-for-six-sigma.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  ggraph<span class="sc">::</span><span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">&quot;igraph&quot;</span>, <span class="at">algorithm =</span> igraph_layouts[<span class="dv">7</span>]) <span class="sc">+</span></span>
<span id="cb32-3"><a href="design-for-six-sigma.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">edge_alpha =</span> weight)) <span class="sc">+</span></span>
<span id="cb32-4"><a href="design-for-six-sigma.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="design-for-six-sigma.html#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theme_graph() +</span></span>
<span id="cb32-6"><a href="design-for-six-sigma.html#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;DOE Perfume Formulation - Inputs&quot;</span>,</span>
<span id="cb32-7"><a href="design-for-six-sigma.html#cb32-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Most important expected correlations&quot;</span>)</span></code></pre></div>
<p><img src="3_sixsigma_files/figure-html/fig-network1-1.png" width="100%" /></p>
<p>Data loading is now confirmed to have been done correctly and we can now move into the clustering analysis. We use different clusters algorithms to generate the groups.</p>
<div id="clustering-algorithms" class="section level3">
<h3>Clustering algorithms</h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="design-for-six-sigma.html#cb33-1" aria-hidden="true" tabindex="-1"></a>perfum_tbl_graph <span class="ot">&lt;-</span> perfum_tbl_graph <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="design-for-six-sigma.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="design-for-six-sigma.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group_components =</span> <span class="fu">group_components</span>(),</span>
<span id="cb33-4"><a href="design-for-six-sigma.html#cb33-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_edge_betweenness =</span> <span class="fu">group_edge_betweenness</span>(),</span>
<span id="cb33-5"><a href="design-for-six-sigma.html#cb33-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_fast_greedy =</span> <span class="fu">group_fast_greedy</span>(),</span>
<span id="cb33-6"><a href="design-for-six-sigma.html#cb33-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_infomap =</span> <span class="fu">group_infomap</span>(),</span>
<span id="cb33-7"><a href="design-for-six-sigma.html#cb33-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_label_prop =</span> <span class="fu">group_label_prop</span>(),</span>
<span id="cb33-8"><a href="design-for-six-sigma.html#cb33-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_leading_eigen =</span> <span class="fu">group_leading_eigen</span>(),</span>
<span id="cb33-9"><a href="design-for-six-sigma.html#cb33-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_louvain =</span> <span class="fu">group_louvain</span>(),</span>
<span id="cb33-10"><a href="design-for-six-sigma.html#cb33-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_walktrap =</span> <span class="fu">group_walktrap</span>()</span>
<span id="cb33-11"><a href="design-for-six-sigma.html#cb33-11" aria-hidden="true" tabindex="-1"></a>         )</span></code></pre></div>
<p>There’s extensive research behind of each of these algorithms and detailed information can be obtained starting simply with the R help system. For example for one selected here type <code>?group_louvain</code> or <code>?cluster_louvain</code> on the console. Digging deeper it is possible to find the author names and the papers explaining how and when to use them.</p>
<p>To produce the final plot some trial and error is needed to select the algorithm that gives the best clustering results. Now for the final step we also need to load some specific support packages for advanced plotting.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="design-for-six-sigma.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggforce)</span>
<span id="cb34-2"><a href="design-for-six-sigma.html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span></code></pre></div>
</div>
<div id="network_plot" class="section level3">
<h3>Network plot</h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="design-for-six-sigma.html#cb35-1" aria-hidden="true" tabindex="-1"></a>perfum_tg_2 <span class="ot">&lt;-</span> perfum_tbl_graph <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="design-for-six-sigma.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="design-for-six-sigma.html#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight2 =</span> <span class="fu">if_else</span>(weight <span class="sc">&gt;=</span> <span class="fl">0.8</span>, <span class="dv">1</span>, <span class="fu">if_else</span>(weight <span class="sc">&gt;=</span> <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.1</span>)))</span>
<span id="cb35-4"><a href="design-for-six-sigma.html#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="design-for-six-sigma.html#cb35-5" aria-hidden="true" tabindex="-1"></a>my_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">viridis</span>(<span class="dv">12</span>)[<span class="dv">3</span>], <span class="fu">viridis</span>(<span class="dv">12</span>)[<span class="dv">9</span>], </span>
<span id="cb35-6"><a href="design-for-six-sigma.html#cb35-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, </span>
<span id="cb35-7"><a href="design-for-six-sigma.html#cb35-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>)</span>
<span id="cb35-8"><a href="design-for-six-sigma.html#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="design-for-six-sigma.html#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">48</span>)</span>
<span id="cb35-10"><a href="design-for-six-sigma.html#cb35-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-11"><a href="design-for-six-sigma.html#cb35-11" aria-hidden="true" tabindex="-1"></a>perfum_tg_2 <span class="sc">%&gt;%</span> </span>
<span id="cb35-12"><a href="design-for-six-sigma.html#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb35-13"><a href="design-for-six-sigma.html#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> group_louvain) <span class="sc">%&gt;%</span> </span>
<span id="cb35-14"><a href="design-for-six-sigma.html#cb35-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(group <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb35-15"><a href="design-for-six-sigma.html#cb35-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">&quot;igraph&quot;</span>, <span class="at">algorithm =</span> igraph_layouts[<span class="dv">7</span>]) <span class="sc">+</span></span>
<span id="cb35-16"><a href="design-for-six-sigma.html#cb35-16" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_mark_hull</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(x, y, </span>
<span id="cb35-17"><a href="design-for-six-sigma.html#cb35-17" aria-hidden="true" tabindex="-1"></a>                               <span class="at">group =</span> <span class="fu">as_factor</span>(group), </span>
<span id="cb35-18"><a href="design-for-six-sigma.html#cb35-18" aria-hidden="true" tabindex="-1"></a>                               <span class="at">fill =</span> <span class="fu">as_factor</span>(group)),</span>
<span id="cb35-19"><a href="design-for-six-sigma.html#cb35-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">concavity =</span> <span class="fl">0.5</span>,</span>
<span id="cb35-20"><a href="design-for-six-sigma.html#cb35-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">expand =</span> <span class="fu">unit</span>(<span class="dv">4</span>, <span class="st">&#39;mm&#39;</span>),</span>
<span id="cb35-21"><a href="design-for-six-sigma.html#cb35-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.25</span>,</span>
<span id="cb35-22"><a href="design-for-six-sigma.html#cb35-22" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb35-23"><a href="design-for-six-sigma.html#cb35-23" aria-hidden="true" tabindex="-1"></a>               <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb35-24"><a href="design-for-six-sigma.html#cb35-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">edge_alpha =</span> weight2, <span class="at">edge_width =</span> weight2)) <span class="sc">+</span> </span>
<span id="cb35-25"><a href="design-for-six-sigma.html#cb35-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb35-26"><a href="design-for-six-sigma.html#cb35-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb35-27"><a href="design-for-six-sigma.html#cb35-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="dv">1</span>), <span class="at">name =</span> <span class="st">&quot;Correlation strength&quot;</span>) <span class="sc">+</span></span>
<span id="cb35-28"><a href="design-for-six-sigma.html#cb35-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_alpha</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.2</span>), <span class="at">name =</span> <span class="st">&quot;Correlation strength&quot;</span>) <span class="sc">+</span> </span>
<span id="cb35-29"><a href="design-for-six-sigma.html#cb35-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_palette) <span class="sc">+</span> </span>
<span id="cb35-30"><a href="design-for-six-sigma.html#cb35-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theme_graph() +</span></span>
<span id="cb35-31"><a href="design-for-six-sigma.html#cb35-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb35-32"><a href="design-for-six-sigma.html#cb35-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">str_c</span>(<span class="st">&quot;&lt;span style=&#39;color:#433E85FF&#39;&gt;Line Parameters&lt;/span&gt;&quot;</span>, </span>
<span id="cb35-33"><a href="design-for-six-sigma.html#cb35-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot; and &quot;</span>, <span class="st">&quot;&lt;span style=&#39;color:#51C56AFF&#39;&gt;Perfume Attributes&lt;/span&gt;&quot;</span>),</span>
<span id="cb35-34"><a href="design-for-six-sigma.html#cb35-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Clustering the outputs of Perfume Formulation DOE01&quot;</span>,</span>
<span id="cb35-35"><a href="design-for-six-sigma.html#cb35-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Clustering by multi-level modularity optimisation (louvain)&quot;</span>) <span class="sc">+</span></span>
<span id="cb35-36"><a href="design-for-six-sigma.html#cb35-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_markdown</span>(<span class="at">family =</span> <span class="st">&quot;Helvetica&quot;</span>,</span>
<span id="cb35-37"><a href="design-for-six-sigma.html#cb35-37" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb35-38"><a href="design-for-six-sigma.html#cb35-38" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)) </span></code></pre></div>
<p><img src="3_sixsigma_files/figure-html/fig-network2-1.png" width="100%" /></p>
<p><br></p>
<p>We can see that the algorithm is grouping elements that have a strong correlation. Most stronger correlations are mostly presented within elements of each cluster. This is expected as certain perfume sensorial attributes are strongly correlated and the same for certain Line Parameters.e The code presented can now easily be reused once the DOE is executed to compare with the real correlations measured. Once knowledge is built and confirmed on which outputs are strongly correlated a selection of the key parameters can be done. This strongly simplifies the experiments by reducing the number of outputs to measure and reduces the cost and lead time of new formulations.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tutorials.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="MSA.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"search": false,
"info": false,
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
