<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>DFSS - Design for Six Sigma | industRial data science</title>
  <meta name="description" content="DFSS - Design for Six Sigma | industRial data science" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="DFSS - Design for Six Sigma | industRial data science" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="img/cover3.png" />
  
  <meta name="github-repo" content="J-Ramalho/industRialds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="DFSS - Design for Six Sigma | industRial data science" />
  
  
  <meta name="twitter:image" content="img/cover3.png" />

<meta name="author" content="João Ramalho" />


<meta name="date" content="2021-03-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="foundations.html"/>
<link rel="next" href="MSA.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-122820355-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-122820355-1');
</script>


<script type="text/javascript">
mattcrump=1;
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="tufte.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">industRial data science</a></li>

<li class="divider"></li>
<li class="part"><span><b>I SETUP</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="foundations.html"><a href="foundations.html"><i class="fa fa-check"></i>Foundations</a>
<ul>
<li class="chapter" data-level="" data-path="foundations.html"><a href="foundations.html#six-sigma"><i class="fa fa-check"></i>Six Sigma</a></li>
<li class="chapter" data-level="" data-path="foundations.html"><a href="foundations.html#statistics"><i class="fa fa-check"></i>Statistics</a></li>
<li class="chapter" data-level="" data-path="foundations.html"><a href="foundations.html#r-programming"><i class="fa fa-check"></i>R programming</a></li>
</ul></li>
<li class="part"><span><b>II CASE STUDIES</b></span></li>
<li class="chapter" data-level="" data-path="dfss-design-for-six-sigma.html"><a href="dfss-design-for-six-sigma.html"><i class="fa fa-check"></i>DFSS - Design for Six Sigma</a>
<ul>
<li class="chapter" data-level="" data-path="dfss-design-for-six-sigma.html"><a href="dfss-design-for-six-sigma.html#pareto"><i class="fa fa-check"></i>Pareto</a></li>
<li class="chapter" data-level="" data-path="dfss-design-for-six-sigma.html"><a href="dfss-design-for-six-sigma.html#ishikawa"><i class="fa fa-check"></i>Ishikawa</a></li>
<li class="chapter" data-level="" data-path="dfss-design-for-six-sigma.html"><a href="dfss-design-for-six-sigma.html#correlation-matrix"><i class="fa fa-check"></i>Correlation matrix</a></li>
<li class="chapter" data-level="" data-path="dfss-design-for-six-sigma.html"><a href="dfss-design-for-six-sigma.html#clustering"><i class="fa fa-check"></i>Clustering</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html"><i class="fa fa-check"></i>MSA - Measurement System Analysis</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#robustness"><i class="fa fa-check"></i>Robustness</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#linearity"><i class="fa fa-check"></i>Linearity</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#plot-of-bias-data"><i class="fa fa-check"></i>Plot of bias data</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#model-of-bias-vs-reference-value"><i class="fa fa-check"></i>Model of bias vs reference value</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#model-of-bias-check"><i class="fa fa-check"></i>Model of bias check</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#trueness"><i class="fa fa-check"></i>Trueness</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#precision"><i class="fa fa-check"></i>Precision</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#base-anova"><i class="fa fa-check"></i>Base Anova</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#study"><i class="fa fa-check"></i>Study</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#acceptance-on-variance"><i class="fa fa-check"></i>Acceptance on Variance</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#acceptance-on-sd"><i class="fa fa-check"></i>Acceptance on SD</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#interaction-plots"><i class="fa fa-check"></i>Interaction plots</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#negative-variations"><i class="fa fa-check"></i>Negative Variations</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#beyond-two-factors"><i class="fa fa-check"></i>Beyond two factors</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#conclusions"><i class="fa fa-check"></i>Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#uncertainty"><i class="fa fa-check"></i>Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html"><i class="fa fa-check"></i>DOE - Design of Experiments</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#one-factor-two-levels"><i class="fa fa-check"></i>One factor two levels</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#two-means-comparison"><i class="fa fa-check"></i>Two means comparison</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#two-variances-comparison"><i class="fa fa-check"></i>Two variances comparison</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#sample-size"><i class="fa fa-check"></i>Sample size</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#one-factor-multiple-levels"><i class="fa fa-check"></i>One factor multiple levels</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#linear-regression"><i class="fa fa-check"></i>Linear regression</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#model-check-residuals"><i class="fa fa-check"></i>Model check &amp; residuals</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#multiple-means-comparison"><i class="fa fa-check"></i>Multiple means comparison</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#pairwise-comparisons"><i class="fa fa-check"></i>Pairwise comparisons</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#predict"><i class="fa fa-check"></i>Prediction</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#means-comparison-covariance"><i class="fa fa-check"></i>Means comparison &amp; covariance</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#two-factors-multiple-levels"><i class="fa fa-check"></i>Two factors multiple levels</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#linear-regression-with-interactions"><i class="fa fa-check"></i>Linear regression with interactions</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#model-check-outliers"><i class="fa fa-check"></i>Model check &amp; outliers</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interactionPlot"><i class="fa fa-check"></i>Interaction plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#effects-significance"><i class="fa fa-check"></i>Effects significance</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#removing-interaction"><i class="fa fa-check"></i>Removing interaction</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#multiple-factors"><i class="fa fa-check"></i>Multiple factors</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#main-effects-plots"><i class="fa fa-check"></i>Main effects plots</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#model-with-3rd-level-interactions"><i class="fa fa-check"></i>Model with 3rd level interactions</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interactions-plots"><i class="fa fa-check"></i>Interactions plots</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova-with-3rd-level-interactions"><i class="fa fa-check"></i>Anova with 3rd level interactions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#factorial-design"><i class="fa fa-check"></i>2^2 factorial design</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#linear-model-with-and--"><i class="fa fa-check"></i>Linear model with + and -</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova-with-and--"><i class="fa fa-check"></i>Anova with + and -</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interaction-plots-with-sd-bars"><i class="fa fa-check"></i>Interaction plots with sd bars</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#outputs-correlation"><i class="fa fa-check"></i>Outputs correlation</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#levels-coding-with-1-and--1"><i class="fa fa-check"></i>Levels coding with +1 and -1</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#model-with-1-and--1"><i class="fa fa-check"></i>Model with 1 and -1</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#prediction-with-1-and--1"><i class="fa fa-check"></i>Prediction with 1 and -1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#factorial-design-1"><i class="fa fa-check"></i>2^3 factorial design</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#main-effects-box-plots"><i class="fa fa-check"></i>Main effects box plots</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#converting-levels-to-numeric"><i class="fa fa-check"></i>Converting levels to numeric</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#model-with-numeric-levels"><i class="fa fa-check"></i>Model with numeric levels</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#prediction-with-numeric-levels"><i class="fa fa-check"></i>Prediction with numeric levels</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#reduced-model-removing-levels"><i class="fa fa-check"></i>Reduced model (removing levels)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#k-factorial-design"><i class="fa fa-check"></i>2^k factorial design</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#combinations"><i class="fa fa-check"></i>Combinations</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coded-vs-natural-variables"><i class="fa fa-check"></i>Coded vs natural variables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#k-single-replicate-design"><i class="fa fa-check"></i>2^k single replicate design</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#main-effects-data-plots"><i class="fa fa-check"></i>Main effects data plots</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#linear-model-single-replicate"><i class="fa fa-check"></i>Linear model single replicate</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova-single-replicate"><i class="fa fa-check"></i>Anova single replicate</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#linear-regression---plot-of-effects"><i class="fa fa-check"></i>Linear regression - Plot of effects</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova-reduced-model-significant-effects-only"><i class="fa fa-check"></i>Anova reduced model (significant effects only)</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#reduced-model"><i class="fa fa-check"></i>Reduced model</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#reduced-model-check"><i class="fa fa-check"></i>Reduced model check</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html"><i class="fa fa-check"></i>SPC - Statistical Process Control</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#control-charts"><i class="fa fa-check"></i>Control charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#xbar-and-r-charts"><i class="fa fa-check"></i>xbar and R charts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#process-capability"><i class="fa fa-check"></i>Process Capability</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#out-of-specification"><i class="fa fa-check"></i>Out of specification</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#cpk-index"><i class="fa fa-check"></i>Cpk index</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III TOOLBOX</b></span></li>
<li class="chapter" data-level="" data-path="r-functions-index.html"><a href="r-functions-index.html"><i class="fa fa-check"></i>R Functions index</a></li>
<li class="chapter" data-level="" data-path="r-datasets.html"><a href="r-datasets.html"><i class="fa fa-check"></i>R Datasets</a></li>
<li class="chapter" data-level="" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i>R Packages</a>
<ul>
<li class="chapter" data-level="" data-path="r-packages.html"><a href="r-packages.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="r-packages.html"><a href="r-packages.html#domain-packages"><i class="fa fa-check"></i>Domain packages</a>
<ul>
<li class="chapter" data-level="" data-path="r-packages.html"><a href="r-packages.html#industrial"><i class="fa fa-check"></i>industRial</a></li>
<li class="chapter" data-level="" data-path="foundations.html"><a href="foundations.html#six-sigma"><i class="fa fa-check"></i>six sigma</a></li>
<li class="chapter" data-level="" data-path="r-packages.html"><a href="r-packages.html#qcc"><i class="fa fa-check"></i>qcc</a></li>
<li class="chapter" data-level="" data-path="r-packages.html"><a href="r-packages.html#qicharts2"><i class="fa fa-check"></i>qicharts2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="r-packages.html"><a href="r-packages.html#other-packages"><i class="fa fa-check"></i>Other packages</a></li>
<li class="chapter" data-level="" data-path="r-packages.html"><a href="r-packages.html#r-session-info"><i class="fa fa-check"></i>R Session info</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">indust<b style='color:#4775d1'>R</b>ial data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dfss---design-for-six-sigma" class="section level1">
<h1>DFSS - Design for Six Sigma</h1>
<div id="pareto" class="section level2">
<h2>Pareto</h2>
<p>The pareto chart has always proven an effective way of defining priorities and keeping workload under control. It is known for helping focusing on the few important elements that account for most problems. It builds on the well known insight that a few reasons explain or allow to control most of the outcome. This applies particularly well in the technological and industrial context.</p>
<p>The example here comes from a dial polishing workshop in the watchmaking industry. Dials are received from the stamping process and polished before being sent to the final assembly. As part of the authonomous quality control performed by the polishing operators a count of the defects observed on the dials each day is kept in a file.</p>
<div class="marginnote">
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-2"></span>
<img src="img/assemblage_cadran_bw.jpg" alt="watch dial inspection" width="100%" />
<p class="caption">
Figure 1: watch dial inspection
</p>
</div>
</div>
<p><strong>Loading packages and data:</strong></p>
<p>If needed get the book companion package from github:</p>
<pre><code>devtools::install_github(&quot;J-Ramalho/industRial&quot;)</code></pre>
<p>load it in the current session:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="dfss-design-for-six-sigma.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(industRial)</span></code></pre></div>
<p>getting the dial dataset:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="dfss-design-for-six-sigma.html#cb3-1" aria-hidden="true" tabindex="-1"></a>dial_control <span class="ot">&lt;-</span>  industRial<span class="sc">::</span>dial_control</span></code></pre></div>
<p>and additional packages to deal with the data:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="dfss-design-for-six-sigma.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-2"><a href="dfss-design-for-six-sigma.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qicharts2)</span>
<span id="cb4-3"><a href="dfss-design-for-six-sigma.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span></code></pre></div>
<p>A first look at the dataset now:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="dfss-design-for-six-sigma.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dial_control) <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="dfss-design-for-six-sigma.html#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">&quot;c&quot;</span>, </span>
<span id="cb5-3"><a href="dfss-design-for-six-sigma.html#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">&quot;dial control data&quot;</span>, </span>
<span id="cb5-4"><a href="dfss-design-for-six-sigma.html#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">booktabs =</span> T)</span></code></pre></div>
<table>
<caption><span id="tab:tab-dial">Table 1: </span>dial control data</caption>
<thead>
<tr class="header">
<th align="center">Operator</th>
<th align="center">Date</th>
<th align="center">Defect</th>
<th align="center">Location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Jane</td>
<td align="center">2018.01.31</td>
<td align="center">Indent</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">Jane</td>
<td align="center">2018.02.02</td>
<td align="center">Indent</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center">Jane</td>
<td align="center">2018.02.02</td>
<td align="center">Indent</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">Peter</td>
<td align="center">2018.02.02</td>
<td align="center">Indent</td>
<td align="center">10</td>
</tr>
<tr class="odd">
<td align="center">Jane</td>
<td align="center">2018.02.03</td>
<td align="center">Scratch</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">Jane</td>
<td align="center">2018.02.03</td>
<td align="center">Indent</td>
<td align="center">3</td>
</tr>
</tbody>
</table>
<p>We can see that the count includes both the deffect type and the location (the hour in the dial) and that it is traced to the day and operator.</p>
<p>The team leader promotes a culture of fact based assessment of the quality measurements. Every week the team looks back and observes the weekly counts. This is important because it helps moving away from perception into a more solid assessment. The volume of data is higher like this enabling trends to start becoming apparent. The team can discuss potential actions and prepare reporting to the supplier of the parts (the stamping workshop). It also helps calibrating between operators and agreeing on acceptance criteria and what is and what is not a defect.</p>
<p>A first example of the pareto of the types of defects:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="dfss-design-for-six-sigma.html#cb6-1" aria-hidden="true" tabindex="-1"></a>d_type <span class="ot">&lt;-</span> dial_control <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Defect) <span class="sc">%&gt;%</span> <span class="fu">as.character</span>()</span>
<span id="cb6-2"><a href="dfss-design-for-six-sigma.html#cb6-2" aria-hidden="true" tabindex="-1"></a>d_type_p <span class="ot">&lt;-</span> <span class="fu">paretochart</span>(d_type, </span>
<span id="cb6-3"><a href="dfss-design-for-six-sigma.html#cb6-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">title =</span> <span class="st">&quot;Watch Dial polishing&quot;</span>,</span>
<span id="cb6-4"><a href="dfss-design-for-six-sigma.html#cb6-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">subtitle =</span> <span class="st">&quot;Pareto chart&quot;</span>, </span>
<span id="cb6-5"><a href="dfss-design-for-six-sigma.html#cb6-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">ylab =</span> <span class="st">&quot;Percentage of deffects&quot;</span>,</span>
<span id="cb6-6"><a href="dfss-design-for-six-sigma.html#cb6-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">xlab =</span> <span class="st">&quot;Deffect type&quot;</span>,</span>
<span id="cb6-7"><a href="dfss-design-for-six-sigma.html#cb6-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">caption =</span> <span class="st">&quot;Source: Dial Production Team&quot;</span>)</span>
<span id="cb6-8"><a href="dfss-design-for-six-sigma.html#cb6-8" aria-hidden="true" tabindex="-1"></a>d_type_p</span></code></pre></div>
<p><img src="sixsigma_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>As often happens we can see that the first two deffects account for more than 80% of the problems. Identation and scratching are the things to tackle here.</p>
<p>From the available data presented before in table <a href="dfss-design-for-six-sigma.html#tab:tab-dial">1</a> we can go deeper and establish a pareto of the defect location:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="dfss-design-for-six-sigma.html#cb7-1" aria-hidden="true" tabindex="-1"></a>d_location <span class="ot">&lt;-</span> dial_control <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Location) <span class="sc">%&gt;%</span> <span class="fu">as.character</span>()</span>
<span id="cb7-2"><a href="dfss-design-for-six-sigma.html#cb7-2" aria-hidden="true" tabindex="-1"></a>d_location_p <span class="ot">&lt;-</span> <span class="fu">paretochart</span>(d_location, </span>
<span id="cb7-3"><a href="dfss-design-for-six-sigma.html#cb7-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">title =</span> <span class="st">&quot;Watch Dial polishing&quot;</span>,</span>
<span id="cb7-4"><a href="dfss-design-for-six-sigma.html#cb7-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">subtitle =</span> <span class="st">&quot;Pareto chart&quot;</span>, </span>
<span id="cb7-5"><a href="dfss-design-for-six-sigma.html#cb7-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">ylab =</span> <span class="st">&quot;Percentage of deffects&quot;</span>,</span>
<span id="cb7-6"><a href="dfss-design-for-six-sigma.html#cb7-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">xlab =</span> <span class="st">&quot;Deffect location (hour)&quot;</span>,</span>
<span id="cb7-7"><a href="dfss-design-for-six-sigma.html#cb7-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">caption =</span> <span class="st">&quot;Source: Dial Production Team&quot;</span>)</span>
<span id="cb7-8"><a href="dfss-design-for-six-sigma.html#cb7-8" aria-hidden="true" tabindex="-1"></a>d_location_p</span></code></pre></div>
<p><img src="sixsigma_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Here a third bucket could be included in the priorities: to reach 80% of the count we consider the defects that appear at 4 o’clock, 3 o’clock and 5 o’clock.</p>
<p>During the reviews the team can also identify other types of data for follow up such as the dial model or the material type. With a simple excel file and an upload in R this can be finetuned from week to week according to the progress of the improvement measures.</p>
</div>
<div id="ishikawa" class="section level2">
<h2>Ishikawa</h2>
<p>Usually called Fishbone or Ishikawa diagrams this simple tool has proven to be extremely practical and helpful in structuring team discussions.</p>
<p>With it we can easily identify and list the expected influencing factors for example to design an experiment. Such selection and grouping of parameters can be useful for among others in defining the right mix of ingredients in a new product or material, in selecting the machine parameters in a manufacturing line or in the definition of a draft operating procedure for a measurement. In each of these situations it helps seeing the big picture and not fall into the trap of relying only in the data and findings obtained by statistical analysis.</p>
<p>Below we’re showing an example building on the qcc package. The package author describes in his book <span class="citation"><a href="references.html#ref-Cano2012" role="doc-biblioref">Emilio L. Cano</a> (<a href="references.html#ref-Cano2012" role="doc-biblioref">2012</a>)</span> the advantages of using R for the design of these diagrams. In our view it strongly complements the data analysis making the full case easilly reproducible and easily updatable.</p>
<p>We start by loading the package.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="dfss-design-for-six-sigma.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qcc)</span></code></pre></div>
<p>A team in quality control laboratory is thinking about what could be the potential causes for high uncertainty in they’re measurement method. They list different reasons related with they’re work and group them in the classical industrial groups:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="dfss-design-for-six-sigma.html#cb9-1" aria-hidden="true" tabindex="-1"></a>operators <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Operator&quot;</span>, <span class="st">&quot;Technician&quot;</span>, <span class="st">&quot;P.Manager&quot;</span>)</span>
<span id="cb9-2"><a href="dfss-design-for-six-sigma.html#cb9-2" aria-hidden="true" tabindex="-1"></a>materials <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Plastic&quot;</span>, <span class="st">&quot;Paper&quot;</span>, <span class="st">&quot;Aluminium&quot;</span>)</span>
<span id="cb9-3"><a href="dfss-design-for-six-sigma.html#cb9-3" aria-hidden="true" tabindex="-1"></a>machines <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Brightness&quot;</span>, <span class="st">&quot;Fixture&quot;</span>, <span class="st">&quot;Dimensional algorithm&quot;</span>)</span>
<span id="cb9-4"><a href="dfss-design-for-six-sigma.html#cb9-4" aria-hidden="true" tabindex="-1"></a>methods <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Fixture&quot;</span>, <span class="st">&quot;Holding time&quot;</span>)</span>
<span id="cb9-5"><a href="dfss-design-for-six-sigma.html#cb9-5" aria-hidden="true" tabindex="-1"></a>measurements <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Recording method&quot;</span>, <span class="st">&quot;Rounding&quot;</span>)</span>
<span id="cb9-6"><a href="dfss-design-for-six-sigma.html#cb9-6" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Operators&quot;</span>, <span class="st">&quot;Materials&quot;</span>, <span class="st">&quot;Machines&quot;</span>, <span class="st">&quot;Methods&quot;</span>, <span class="st">&quot;Measurements&quot;</span>)</span>
<span id="cb9-7"><a href="dfss-design-for-six-sigma.html#cb9-7" aria-hidden="true" tabindex="-1"></a>effect <span class="ot">&lt;-</span> <span class="st">&quot;Too high uncertainty&quot;</span></span></code></pre></div>
<p>They quickly obtain a simple diagram that allows for a quick visualisation of these influencing factors. Utilisation of this preparation work can be seen in the MSA chapter where the selection of potential influencing factors is a pre-requisite to assess a measurement method robustness.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="dfss-design-for-six-sigma.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cause.and.effect</span>(</span>
<span id="cb10-2"><a href="dfss-design-for-six-sigma.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Potential causes for uncertainty increase during a measurement&quot;</span>,</span>
<span id="cb10-3"><a href="dfss-design-for-six-sigma.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cause =</span> <span class="fu">list</span>(</span>
<span id="cb10-4"><a href="dfss-design-for-six-sigma.html#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Operators =</span> operators,</span>
<span id="cb10-5"><a href="dfss-design-for-six-sigma.html#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Materials =</span> materials,</span>
<span id="cb10-6"><a href="dfss-design-for-six-sigma.html#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Machines =</span> machines,</span>
<span id="cb10-7"><a href="dfss-design-for-six-sigma.html#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Methods =</span> methods,</span>
<span id="cb10-8"><a href="dfss-design-for-six-sigma.html#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Measurements =</span> measurements</span>
<span id="cb10-9"><a href="dfss-design-for-six-sigma.html#cb10-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb10-10"><a href="dfss-design-for-six-sigma.html#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">effect =</span> effect</span>
<span id="cb10-11"><a href="dfss-design-for-six-sigma.html#cb10-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-ishikawa"></span>
<img src="sixsigma_files/figure-html/fig-ishikawa-1.png" alt="ishikawa diagram aplication" width="80%" />
<p class="caption">
Figure 2: ishikawa diagram aplication
</p>
</div>
</div>
<div id="correlation-matrix" class="section level2">
<h2>Correlation matrix</h2>
<p>A matrix diagram is a way to discover relationships between groups of items as described by described in the Six Sigma book by <span class="citation"><a href="references.html#ref-Munro2015" role="doc-biblioref">Roderik A.Munro and J.Zrymiak</a> (<a href="references.html#ref-Munro2015" role="doc-biblioref">2015</a>)</span>. A practical application of this concept is in the selection of the input factors for a design of experiments. In an industrial setup the cost of experimenting is often very high and engineers can keep test quantities in control by identifying factors that are strongly correlated.</p>
<p>We provide here two different approaches one with a tile plot and another with a network plot.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="dfss-design-for-six-sigma.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb11-2"><a href="dfss-design-for-six-sigma.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb11-3"><a href="dfss-design-for-six-sigma.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb11-4"><a href="dfss-design-for-six-sigma.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb11-5"><a href="dfss-design-for-six-sigma.html#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rcartocolor)</span>
<span id="cb11-6"><a href="dfss-design-for-six-sigma.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggforce)</span>
<span id="cb11-7"><a href="dfss-design-for-six-sigma.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb11-8"><a href="dfss-design-for-six-sigma.html#cb11-8" aria-hidden="true" tabindex="-1"></a>filter <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>filter</span>
<span id="cb11-9"><a href="dfss-design-for-six-sigma.html#cb11-9" aria-hidden="true" tabindex="-1"></a>select <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>select</span></code></pre></div>
<div class="marginnote">
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-11"></span>
<img src="img/parfum.jpg" alt="Perfume destillation equipment" width="100%" />
<p class="caption">
Figure 3: Perfume destillation equipment
</p>
</div>
</div>
<p>DOEs consist in a series of trials where several inputs are combined in specific levels and important outputs are measured (further details can be seen in the DOE chapter). The case below refers to a DOE on Perfume Formulation Recipe Development. The team would like to understand the impact of the perfum machine parameters variation (e.g. temperature, pressure and others) in typical perfum sensorial characteristics such as the floral notes.</p>
<p>Typical DOE analysis results linking inputs to outputs are presented with effects plots and interaction plots. Another analysis is the correlation between the outputs, where there is not always necessary a cause effect but where it is interesting to see if groups of outputs move together. This type of analysis is most commonly presented in a tile plot.</p>
<p>In our case the DOE is not yet executed and just a preparatory session has taken place with the project manager to review the potential outputs and anticipate what will be the DOE results. This allowed to go deeper in the technology understanding and confirm the plan was constructed in a meaning full way. The experts input has been captured in a 1/2 of a two entry table, leading to a weighed non directional network(tbl_graph) object. Several steps of conversion have been required for this approach first with igraph directly and only then to tidygraph. This because the dataloading lead to a matrix data object that had to be converted.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="dfss-design-for-six-sigma.html#cb12-1" aria-hidden="true" tabindex="-1"></a>adj_tibble_outputs <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;../industRial/data-raw/doe_network.xlsx&quot;</span>,</span>
<span id="cb12-2"><a href="dfss-design-for-six-sigma.html#cb12-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">sheet =</span> <span class="st">&quot;outputs&quot;</span>)</span>
<span id="cb12-3"><a href="dfss-design-for-six-sigma.html#cb12-3" aria-hidden="true" tabindex="-1"></a>                        <span class="co"># range = &quot;A1:AB8&quot;)</span></span>
<span id="cb12-4"><a href="dfss-design-for-six-sigma.html#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="dfss-design-for-six-sigma.html#cb12-5" aria-hidden="true" tabindex="-1"></a>nodes_names_outputs <span class="ot">&lt;-</span> adj_tibble_outputs<span class="sc">$</span>...<span class="dv">1</span></span>
<span id="cb12-6"><a href="dfss-design-for-six-sigma.html#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="dfss-design-for-six-sigma.html#cb12-7" aria-hidden="true" tabindex="-1"></a>adj_tibble_outputs <span class="ot">&lt;-</span> adj_tibble_outputs <span class="sc">%&gt;%</span></span>
<span id="cb12-8"><a href="dfss-design-for-six-sigma.html#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(nodes_names_outputs))</span>
<span id="cb12-9"><a href="dfss-design-for-six-sigma.html#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="dfss-design-for-six-sigma.html#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(adj_tibble_outputs) <span class="ot">&lt;-</span> nodes_names_outputs</span>
<span id="cb12-11"><a href="dfss-design-for-six-sigma.html#cb12-11" aria-hidden="true" tabindex="-1"></a>adj_matrix_outputs <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(adj_tibble_outputs)</span>
<span id="cb12-12"><a href="dfss-design-for-six-sigma.html#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="dfss-design-for-six-sigma.html#cb12-13" aria-hidden="true" tabindex="-1"></a>adj_matrix_outputs <span class="sc">%&gt;%</span></span>
<span id="cb12-14"><a href="dfss-design-for-six-sigma.html#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># head() %&gt;%</span></span>
<span id="cb12-15"><a href="dfss-design-for-six-sigma.html#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">pw</th>
<th align="right">w</th>
<th align="right">pm</th>
<th align="right">pe</th>
<th align="right">f</th>
<th align="right">it</th>
<th align="right">ew</th>
<th align="right">c</th>
<th align="right">t</th>
<th align="right">y</th>
<th align="right">o</th>
<th align="right">oc</th>
<th align="right">d</th>
<th align="right">pd</th>
<th align="right">bl</th>
<th align="right">rg</th>
<th align="right">hp</th>
<th align="right">fi</th>
<th align="right">po</th>
<th align="right">td</th>
<th align="right">bd</th>
<th align="right">ad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">pw</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">10</td>
<td align="right">8</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">w</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">10</td>
<td align="right">8</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">pm</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">10</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">pe</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">10</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">f</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">it</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">7</td>
<td align="right">7</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">ew</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">c</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">6</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">t</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">9</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">y</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">o</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">oc</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">d</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">pd</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">bl</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">rg</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">hp</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">fi</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">po</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">td</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">bd</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">ad</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Tile plot</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="dfss-design-for-six-sigma.html#cb13-1" aria-hidden="true" tabindex="-1"></a>correlation_tibble <span class="ot">&lt;-</span> adj_matrix_outputs <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="dfss-design-for-six-sigma.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="at">rownames =</span> <span class="st">&quot;variable1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="dfss-design-for-six-sigma.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb13-4"><a href="dfss-design-for-six-sigma.html#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> pw<span class="sc">:</span>ad,</span>
<span id="cb13-5"><a href="dfss-design-for-six-sigma.html#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;correlation&quot;</span>,</span>
<span id="cb13-6"><a href="dfss-design-for-six-sigma.html#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;variable2&quot;</span></span>
<span id="cb13-7"><a href="dfss-design-for-six-sigma.html#cb13-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="dfss-design-for-six-sigma.html#cb14-1" aria-hidden="true" tabindex="-1"></a>correlation_tibble <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="dfss-design-for-six-sigma.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> variable1, <span class="at">y =</span> variable2, <span class="at">fill =</span> correlation)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="dfss-design-for-six-sigma.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>()</span></code></pre></div>
<p><img src="sixsigma_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="clustering" class="section level2">
<h2>Clustering</h2>
<p>In this variant we explore a more advanced but more powerfull approach using network plots. It provides an automatic clustering of the factors and a specific way to read such clusters.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="dfss-design-for-six-sigma.html#cb15-1" aria-hidden="true" tabindex="-1"></a>network_igraph_outputs <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(adj_matrix_outputs, </span>
<span id="cb15-2"><a href="dfss-design-for-six-sigma.html#cb15-2" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">mode =</span> <span class="st">&quot;undirected&quot;</span>,</span>
<span id="cb15-3"><a href="dfss-design-for-six-sigma.html#cb15-3" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">weighted =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-4"><a href="dfss-design-for-six-sigma.html#cb15-4" aria-hidden="true" tabindex="-1"></a>network_igraph_outputs</span></code></pre></div>
<pre><code>IGRAPH f9288d3 UNW- 22 85 -- 
+ attr: name (v/c), weight (e/n)
+ edges from f9288d3 (vertex names):
 [1] pw--w  pw--pm pw--pe pw--f  pw--it pw--c  pw--t  pw--y  pw--o  pw--oc
[11] pw--d  pw--bl pw--hp w --pm w --pe w --f  w --it w --c  w --t  w --y 
[21] w --o  w --oc w --d  w --bl w --hp pm--pe pm--f  pm--c  pm--t  pm--y 
[31] pm--o  pm--oc pm--d  pm--pd pm--bl pe--f  pe--c  pe--t  pe--y  pe--o 
[41] pe--oc pe--d  pe--pd pe--bl f --it f --c  f --t  f --y  f --o  f --oc
[51] f --d  f --bl f --hp it--c  it--t  it--y  it--o  it--oc it--d  it--hp
[61] c --t  c --y  c --o  c --oc c --d  c --hp t --y  t --o  t --oc t --d 
[71] t --rg y --o  y --oc y --d  y --rg o --oc o --d  o --rg o --hp oc--d 
+ ... omitted several edges</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="dfss-design-for-six-sigma.html#cb17-1" aria-hidden="true" tabindex="-1"></a>perfum_tg <span class="ot">&lt;-</span> <span class="fu">as_tbl_graph</span>(network_igraph_outputs, <span class="at">add.rownames =</span> <span class="st">&quot;nodes_names&quot;</span>)</span></code></pre></div>
<p>As the users provided the correlation strength from 1 to 10 which was easier for the discussion, where here converting it back to the 0 to 1 which is more common in the statistics community. For simplicity, for now negative correlations were not considered just the strength, thus the network being unidirectional.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="dfss-design-for-six-sigma.html#cb18-1" aria-hidden="true" tabindex="-1"></a>perfum_tg <span class="ot">&lt;-</span> perfum_tg <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="dfss-design-for-six-sigma.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="dfss-design-for-six-sigma.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight =</span> weight<span class="sc">/</span><span class="dv">10</span>)</span>
<span id="cb18-4"><a href="dfss-design-for-six-sigma.html#cb18-4" aria-hidden="true" tabindex="-1"></a>perfum_tg</span></code></pre></div>
<pre><code># A tbl_graph: 22 nodes and 85 edges
#
# An undirected simple graph with 7 components
#
# Edge Data: 85 x 3 (active)
   from    to weight
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;
1     1     2    1  
2     1     3    0.3
3     1     4    0.3
4     1     5    0.2
5     1     6    0.2
6     1     8    0.8
# ... with 79 more rows
#
# Node Data: 22 x 1
  name 
  &lt;chr&gt;
1 pw   
2 w    
3 pm   
# ... with 19 more rows</code></pre>
<p>We represent here various igraph layouts to allow for easier selection:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="dfss-design-for-six-sigma.html#cb20-1" aria-hidden="true" tabindex="-1"></a>igraph_layouts <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;star&#39;</span>, <span class="st">&#39;circle&#39;</span>, <span class="st">&#39;gem&#39;</span>, <span class="st">&#39;dh&#39;</span>, <span class="st">&#39;graphopt&#39;</span>, <span class="st">&#39;grid&#39;</span>, <span class="st">&#39;mds&#39;</span>, </span>
<span id="cb20-2"><a href="dfss-design-for-six-sigma.html#cb20-2" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&#39;randomly&#39;</span>, <span class="st">&#39;fr&#39;</span>, <span class="st">&#39;kk&#39;</span>, <span class="st">&#39;drl&#39;</span>, <span class="st">&#39;lgl&#39;</span>)</span></code></pre></div>
<p>and do a first network plot to check data upload:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="dfss-design-for-six-sigma.html#cb21-1" aria-hidden="true" tabindex="-1"></a>perfum_tg <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="dfss-design-for-six-sigma.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="co"># layout = &quot;stress&quot;, </span></span>
<span id="cb21-3"><a href="dfss-design-for-six-sigma.html#cb21-3" aria-hidden="true" tabindex="-1"></a>         <span class="co"># layout = &quot;igraph&quot;, algorithm = &quot;kk&quot;,</span></span>
<span id="cb21-4"><a href="dfss-design-for-six-sigma.html#cb21-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">layout =</span> <span class="st">&quot;igraph&quot;</span>, <span class="at">algorithm =</span> igraph_layouts[<span class="dv">5</span>]</span>
<span id="cb21-5"><a href="dfss-design-for-six-sigma.html#cb21-5" aria-hidden="true" tabindex="-1"></a>              ) <span class="sc">+</span></span>
<span id="cb21-6"><a href="dfss-design-for-six-sigma.html#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">edge_alpha =</span> weight)) <span class="sc">+</span></span>
<span id="cb21-7"><a href="dfss-design-for-six-sigma.html#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb21-8"><a href="dfss-design-for-six-sigma.html#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb21-9"><a href="dfss-design-for-six-sigma.html#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_carto_d</span>(<span class="at">palette =</span> <span class="st">&quot;Bold&quot;</span>, <span class="at">guide =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb21-10"><a href="dfss-design-for-six-sigma.html#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_edge_color_brewer(palette = &quot;Set2&quot;, </span></span>
<span id="cb21-11"><a href="dfss-design-for-six-sigma.html#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                         direction = 1,</span></span>
<span id="cb21-12"><a href="dfss-design-for-six-sigma.html#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                        na.value = &quot;grey&quot;, </span></span>
<span id="cb21-13"><a href="dfss-design-for-six-sigma.html#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                        name = &quot;Connection Strength&quot;) +</span></span>
<span id="cb21-14"><a href="dfss-design-for-six-sigma.html#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scale_edge_color_manual(values = c(&quot;grey&quot;, &quot;red&quot;),</span></span>
<span id="cb21-15"><a href="dfss-design-for-six-sigma.html#cb21-15" aria-hidden="true" tabindex="-1"></a>                          <span class="co"># name = &quot;Correlation Strength&quot;) +</span></span>
<span id="cb21-16"><a href="dfss-design-for-six-sigma.html#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;DOE Perfume Formulation - Inputs&quot;</span>,</span>
<span id="cb21-17"><a href="dfss-design-for-six-sigma.html#cb21-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Most important expected correlations&quot;</span>)</span></code></pre></div>
<p><img src="sixsigma_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Data loading is confirmed to have been done correctly, we can now move into the clustering and analysis.</p>
<p>We use different clusters algorithms like in part 3 to generate the groups:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="dfss-design-for-six-sigma.html#cb22-1" aria-hidden="true" tabindex="-1"></a>perfum_tg <span class="ot">&lt;-</span> perfum_tg <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="dfss-design-for-six-sigma.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="dfss-design-for-six-sigma.html#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group_components =</span> <span class="fu">group_components</span>(),</span>
<span id="cb22-4"><a href="dfss-design-for-six-sigma.html#cb22-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_edge_betweenness =</span> <span class="fu">group_edge_betweenness</span>(),</span>
<span id="cb22-5"><a href="dfss-design-for-six-sigma.html#cb22-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_fast_greedy =</span> <span class="fu">group_fast_greedy</span>(),</span>
<span id="cb22-6"><a href="dfss-design-for-six-sigma.html#cb22-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_infomap =</span> <span class="fu">group_infomap</span>(),</span>
<span id="cb22-7"><a href="dfss-design-for-six-sigma.html#cb22-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_label_prop =</span> <span class="fu">group_label_prop</span>(),</span>
<span id="cb22-8"><a href="dfss-design-for-six-sigma.html#cb22-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_leading_eigen =</span> <span class="fu">group_leading_eigen</span>(),</span>
<span id="cb22-9"><a href="dfss-design-for-six-sigma.html#cb22-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_louvain =</span> <span class="fu">group_louvain</span>(),</span>
<span id="cb22-10"><a href="dfss-design-for-six-sigma.html#cb22-10" aria-hidden="true" tabindex="-1"></a>          <span class="co"># group_optimal = group_optimal(),</span></span>
<span id="cb22-11"><a href="dfss-design-for-six-sigma.html#cb22-11" aria-hidden="true" tabindex="-1"></a>          <span class="co"># group_spinglass = group_spinglass(),</span></span>
<span id="cb22-12"><a href="dfss-design-for-six-sigma.html#cb22-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">group_walktrap =</span> <span class="fu">group_walktrap</span>(),</span>
<span id="cb22-13"><a href="dfss-design-for-six-sigma.html#cb22-13" aria-hidden="true" tabindex="-1"></a>          <span class="co"># group_biconnected_component = group_biconnected_component()</span></span>
<span id="cb22-14"><a href="dfss-design-for-six-sigma.html#cb22-14" aria-hidden="true" tabindex="-1"></a>         )</span></code></pre></div>
<p>and produce a final plot, selecting group optimal which is the closest one to the original edges network. The correlations strengths are here represented by the edges width for optimal visualization.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="dfss-design-for-six-sigma.html#cb23-1" aria-hidden="true" tabindex="-1"></a>perfum_tg_2 <span class="ot">&lt;-</span> perfum_tg <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="dfss-design-for-six-sigma.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="dfss-design-for-six-sigma.html#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight2 =</span> <span class="fu">if_else</span>(weight <span class="sc">&gt;=</span> <span class="fl">0.8</span>, <span class="dv">1</span>, <span class="fu">if_else</span>(weight <span class="sc">&gt;=</span> <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.1</span>)))</span>
<span id="cb23-4"><a href="dfss-design-for-six-sigma.html#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="dfss-design-for-six-sigma.html#cb23-5" aria-hidden="true" tabindex="-1"></a>my_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;coral1&quot;</span>, <span class="st">&quot;tan3&quot;</span>, </span>
<span id="cb23-6"><a href="dfss-design-for-six-sigma.html#cb23-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, </span>
<span id="cb23-7"><a href="dfss-design-for-six-sigma.html#cb23-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>, <span class="st">&quot;gray40&quot;</span>)</span>
<span id="cb23-8"><a href="dfss-design-for-six-sigma.html#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="dfss-design-for-six-sigma.html#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">48</span>)</span>
<span id="cb23-10"><a href="dfss-design-for-six-sigma.html#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="dfss-design-for-six-sigma.html#cb23-11" aria-hidden="true" tabindex="-1"></a>perfum_tg_2 <span class="sc">%&gt;%</span> </span>
<span id="cb23-12"><a href="dfss-design-for-six-sigma.html#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span> </span>
<span id="cb23-13"><a href="dfss-design-for-six-sigma.html#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> group_louvain) <span class="sc">%&gt;%</span> </span>
<span id="cb23-14"><a href="dfss-design-for-six-sigma.html#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(group <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-15"><a href="dfss-design-for-six-sigma.html#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="co"># layout = &quot;stress&quot;, </span></span>
<span id="cb23-16"><a href="dfss-design-for-six-sigma.html#cb23-16" aria-hidden="true" tabindex="-1"></a>         <span class="co"># layout = &quot;igraph&quot;, algorithm = &quot;kk&quot;,</span></span>
<span id="cb23-17"><a href="dfss-design-for-six-sigma.html#cb23-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">layout =</span> <span class="st">&quot;igraph&quot;</span>, <span class="at">algorithm =</span> igraph_layouts[<span class="dv">9</span>]</span>
<span id="cb23-18"><a href="dfss-design-for-six-sigma.html#cb23-18" aria-hidden="true" tabindex="-1"></a>              ) <span class="sc">+</span></span>
<span id="cb23-19"><a href="dfss-design-for-six-sigma.html#cb23-19" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_mark_hull</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(x, y, </span>
<span id="cb23-20"><a href="dfss-design-for-six-sigma.html#cb23-20" aria-hidden="true" tabindex="-1"></a>                               <span class="at">group =</span> <span class="fu">as_factor</span>(group), </span>
<span id="cb23-21"><a href="dfss-design-for-six-sigma.html#cb23-21" aria-hidden="true" tabindex="-1"></a>                               <span class="at">fill =</span> <span class="fu">as_factor</span>(group)),</span>
<span id="cb23-22"><a href="dfss-design-for-six-sigma.html#cb23-22" aria-hidden="true" tabindex="-1"></a>               <span class="at">concavity =</span> <span class="fl">0.5</span>,</span>
<span id="cb23-23"><a href="dfss-design-for-six-sigma.html#cb23-23" aria-hidden="true" tabindex="-1"></a>               <span class="at">expand =</span> <span class="fu">unit</span>(<span class="dv">4</span>, <span class="st">&#39;mm&#39;</span>),</span>
<span id="cb23-24"><a href="dfss-design-for-six-sigma.html#cb23-24" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.25</span>,</span>
<span id="cb23-25"><a href="dfss-design-for-six-sigma.html#cb23-25" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb23-26"><a href="dfss-design-for-six-sigma.html#cb23-26" aria-hidden="true" tabindex="-1"></a>               <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb23-27"><a href="dfss-design-for-six-sigma.html#cb23-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">edge_alpha =</span> weight2, <span class="at">edge_width =</span> weight2)) <span class="sc">+</span> </span>
<span id="cb23-28"><a href="dfss-design-for-six-sigma.html#cb23-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb23-29"><a href="dfss-design-for-six-sigma.html#cb23-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb23-30"><a href="dfss-design-for-six-sigma.html#cb23-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="dv">1</span>), <span class="at">name =</span> <span class="st">&quot;Correlation strength&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-31"><a href="dfss-design-for-six-sigma.html#cb23-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_edge_alpha</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.2</span>), <span class="at">name =</span> <span class="st">&quot;Correlation strength&quot;</span>) <span class="sc">+</span> </span>
<span id="cb23-32"><a href="dfss-design-for-six-sigma.html#cb23-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_palette) <span class="sc">+</span> </span>
<span id="cb23-33"><a href="dfss-design-for-six-sigma.html#cb23-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theme_void() +</span></span>
<span id="cb23-34"><a href="dfss-design-for-six-sigma.html#cb23-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb23-35"><a href="dfss-design-for-six-sigma.html#cb23-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">str_c</span>(<span class="st">&quot;Perfume Formulation - &lt;span style=&#39;color:tan3&#39;&gt;Raw material attributes&lt;/span&gt;</span></span>
<span id="cb23-36"><a href="dfss-design-for-six-sigma.html#cb23-36" aria-hidden="true" tabindex="-1"></a><span class="st">                     &quot;</span>, </span>
<span id="cb23-37"><a href="dfss-design-for-six-sigma.html#cb23-37" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot; and &quot;</span>, </span>
<span id="cb23-38"><a href="dfss-design-for-six-sigma.html#cb23-38" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;&lt;span style=&#39;color:coral1&#39;&gt;Distillation parameters&lt;/span&gt;&quot;</span></span>
<span id="cb23-39"><a href="dfss-design-for-six-sigma.html#cb23-39" aria-hidden="true" tabindex="-1"></a>                     ),</span>
<span id="cb23-40"><a href="dfss-design-for-six-sigma.html#cb23-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Input clusters for DOE01&quot;</span>,</span>
<span id="cb23-41"><a href="dfss-design-for-six-sigma.html#cb23-41" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Clustering by multi-level modularity optimisation (louvain)&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-42"><a href="dfss-design-for-six-sigma.html#cb23-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_markdown</span>(<span class="at">family =</span> <span class="st">&quot;Helvetica&quot;</span>,</span>
<span id="cb23-43"><a href="dfss-design-for-six-sigma.html#cb23-43" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb23-44"><a href="dfss-design-for-six-sigma.html#cb23-44" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)) </span></code></pre></div>
<p><img src="sixsigma_files/figure-html/unnamed-chunk-20-1.png" width="864" /></p>
<p><br></p>
<p>We can see as expected that elements with a very low correlation are put separate from the main clusters. We can also see that the algorithm is grouping elements that have a strong correlation.</p>
<p>The code presented can now easily be reused once the DOE is executed to compare with the real correlations measured.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="foundations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="MSA.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["industRialds.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
